!function(){"use strict";var e=function(e,t){const i=document.createElement("div");i.classList.add("error"),i.innerHTML=`\n            <h3>${e}</h3>\n            <p><a href="../catalog.html">Перейти к списку товаров!</a></p>\n        `;const s=document.createElement("button");s.classList.add("error__btn-close"),s.innerHTML='\n            <img src="../../img/icons/close-error.svg" alt="close">\n        ',i.append(s),document.querySelector(t).insertAdjacentElement("afterend",i),document.querySelector("body").classList.add("no-scroll"),s.addEventListener("click",(()=>{i.remove(),document.querySelector("body").classList.remove("no-scroll")}))};const t="Ошибка сервера, попробуйте",i="В корзине нет товаров!";function s(){const e=localStorage.getItem("basket");return e?JSON.parse(e):[]}function a(e){document.querySelectorAll(".nav__btn-count--basket").forEach((t=>{localStorage.setItem("basket",JSON.stringify(e)),t.textContent=e.length}))}var n=function(){let n=[];const l=document.querySelector(".cart");async function o(){try{if(0===n.length){let e=await fetch("../data/catalog.json");if(!e.ok)throw new Error(e.statusText);n=await e.json()}!function(n){if(l.textContent="",!n||0===n.length)return void e(t,"body");!function(e){const t=s();t.forEach(((i,s)=>{e.some((e=>e.id===Number(i)))||t.slice(s,1)})),a(t)}(n);const o=s();if(!o||0===o.length)return e(i,"body"),void document.querySelector(".basket-form").classList.add("none");const d=n.filter((e=>o.includes(String(e.id))));if(!d||0===d.length)return e(i,"body"),void document.querySelector(".basket-form").classList.add("none");d.forEach((e=>{const{id:t,img:i,title:s,price:a}=e,n=`\n                <div class="cart__product" data-product-id="${t}">\n                    <div class="cart__img">\n                        <img src="../img/catalog/${i}" alt="${s}">\n                    </div>\n                    <div class="cart__title">${s}</div>\n                    <div class="cart__block-btns">\n                        <div class="cart__minus">-</div>\n                        <div class="cart__count">1</div>\n                        <div class="cart__plus">+</div>\n                    </div>\n                    <div class="cart__price">\n                        <span>${a}</span>\n                    </div>\n                    <div class="cart__del-card">X</div>\n                </div>\n            `;l.insertAdjacentHTML("beforeend",n)})),c(),function(){const e=document.querySelectorAll(".cart__minus"),t=document.querySelectorAll(".cart__plus");e.forEach((e=>{e.addEventListener("click",(t=>{const i=e.closest(".cart__product").querySelector(".cart__count");let s=parseInt(i.textContent);s>0&&(s--,i.textContent=s,c()),s<=0&&r(t,".cart__minus")}))})),t.forEach((e=>{e.addEventListener("click",(()=>{const t=e.closest(".cart__product").querySelector(".cart__count");let i=parseInt(t.textContent);i++,t.textContent=i,c()}))}))}()}(n)}catch(i){e(t,"body"),console.log(i)}}function r(e,t){const i=e.target.closest(t);if(!i)return;const n=i.closest(".cart__product").dataset.productId,l=s().filter((e=>e!==n));a(l),0===l.length&&(document.querySelector(".basket__total-price span").textContent="0 грн."),o().then()}function c(){const e=document.querySelectorAll(".cart__product");let t=0;e.forEach((e=>{const i=e.querySelector(".cart__price span"),s=e.querySelector(".cart__count"),a=parseFloat(i.textContent.replace(" грн.","")),n=parseInt(s.textContent);t+=a*n})),document.querySelector(".basket__total-price span").textContent=t+" грн."}l.addEventListener("click",(e=>{r(e,".cart__del-card")})),o().then()},l=Object.defineProperty,o=(e,t,i)=>(((e,t,i)=>{t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(e,"symbol"!=typeof t?t+"":t,i),i);const r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,c=/^-?[0-9]\d*$/,d=/^(?=.*[A-Za-z])(?=.*\d).{8,}$/,u=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,h=e=>"string"!=typeof e||""===e;var f=(e=>(e.Required="required",e.Email="email",e.MinLength="minLength",e.MaxLength="maxLength",e.Password="password",e.Number="number",e.Integer="integer",e.MaxNumber="maxNumber",e.MinNumber="minNumber",e.StrongPassword="strongPassword",e.CustomRegexp="customRegexp",e.MinFilesCount="minFilesCount",e.MaxFilesCount="maxFilesCount",e.Files="files",e))(f||{}),p=(e=>(e.Required="required",e))(p||{}),v=(e=>(e.Label="label",e.LabelArrow="labelArrow",e))(v||{});const m=[{key:f.Required,dict:{en:"The field is required"}},{key:f.Email,dict:{en:"Email has invalid format"}},{key:f.MaxLength,dict:{en:"The field must contain a maximum of :value characters"}},{key:f.MinLength,dict:{en:"The field must contain a minimum of :value characters"}},{key:f.Password,dict:{en:"Password must contain minimum eight characters, at least one letter and one number"}},{key:f.StrongPassword,dict:{en:"Password should contain minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character"}},{key:f.Number,dict:{en:"Value should be a number"}},{key:f.MaxNumber,dict:{en:"Number should be less or equal than :value"}},{key:f.MinNumber,dict:{en:"Number should be more or equal than :value"}},{key:f.MinFilesCount,dict:{en:"Files count should be more or equal than :value"}},{key:f.MaxFilesCount,dict:{en:"Files count should be less or equal than :value"}},{key:f.Files,dict:{en:"Uploaded files have one or several invalid properties (extension/size/type etc)."}}],g=e=>"object"==typeof e&&null!==e&&"then"in e&&"function"==typeof e.then,b=e=>Array.isArray(e)?e.filter((e=>e.length>0)):"string"==typeof e&&e.trim()?[...e.split(" ").filter((e=>e.length>0))]:[],k=e=>e instanceof Element||e instanceof HTMLDocument,y={errorFieldStyle:{color:"#b81111",border:"1px solid #B81111"},errorFieldCssClass:"just-validate-error-field",successFieldCssClass:"just-validate-success-field",errorLabelStyle:{color:"#b81111"},errorLabelCssClass:"just-validate-error-label",successLabelCssClass:"just-validate-success-label",focusInvalidField:!0,lockForm:!0,testingMode:!1,validateBeforeSubmitting:!1,submitFormAutomatically:!1};class w{constructor(e,t,i){o(this,"form",null),o(this,"fields",{}),o(this,"groupFields",{}),o(this,"errors",{}),o(this,"isValid",!1),o(this,"isSubmitted",!1),o(this,"globalConfig",y),o(this,"errorLabels",{}),o(this,"successLabels",{}),o(this,"eventListeners",[]),o(this,"dictLocale",m),o(this,"currentLocale","en"),o(this,"customStyleTags",{}),o(this,"onSuccessCallback"),o(this,"onFailCallback"),o(this,"onValidateCallback"),o(this,"tooltips",[]),o(this,"lastScrollPosition"),o(this,"isScrollTick"),o(this,"fieldIds",new Map),o(this,"getKeyByFieldSelector",(e=>this.fieldIds.get(e))),o(this,"getFieldSelectorByKey",(e=>{for(const[t,i]of this.fieldIds)if(e===i)return t})),o(this,"getCompatibleFields",(()=>{const e={};return Object.keys(this.fields).forEach((t=>{let i=t;const s=this.getFieldSelectorByKey(t);"string"==typeof s&&(i=s),e[i]={...this.fields[t]}})),e})),o(this,"setKeyByFieldSelector",(e=>{if(this.fieldIds.has(e))return this.fieldIds.get(e);const t=String(this.fieldIds.size+1);return this.fieldIds.set(e,t),t})),o(this,"refreshAllTooltips",(()=>{this.tooltips.forEach((e=>{e.refresh()}))})),o(this,"handleDocumentScroll",(()=>{this.lastScrollPosition=window.scrollY,this.isScrollTick||(window.requestAnimationFrame((()=>{this.refreshAllTooltips(),this.isScrollTick=!1})),this.isScrollTick=!0)})),o(this,"formSubmitHandler",(e=>{e.preventDefault(),this.isSubmitted=!0,this.validateHandler(e)})),o(this,"handleFieldChange",(e=>{let t;for(const i in this.fields)if(this.fields[i].elem===e){t=i;break}t&&(this.fields[t].touched=!0,this.validateField(t,!0))})),o(this,"handleGroupChange",(e=>{let t;for(const i in this.groupFields)if(this.groupFields[i].elems.find((t=>t===e))){t=i;break}t&&(this.groupFields[t].touched=!0,this.validateGroup(t,!0))})),o(this,"handlerChange",(e=>{e.target&&(this.handleFieldChange(e.target),this.handleGroupChange(e.target),this.renderErrors())})),this.initialize(e,t,i)}initialize(e,t,i){if(this.form=null,this.errors={},this.isValid=!1,this.isSubmitted=!1,this.globalConfig=y,this.errorLabels={},this.successLabels={},this.eventListeners=[],this.customStyleTags={},this.tooltips=[],this.currentLocale="en","string"==typeof e){const t=document.querySelector(e);if(!t)throw Error(`Form with ${e} selector not found! Please check the form selector`);this.setForm(t)}else{if(!(e instanceof HTMLFormElement))throw Error("Form selector is not valid. Please specify a string selector or a DOM element.");this.setForm(e)}if(this.globalConfig={...y,...t},i&&(this.dictLocale=[...i,...m]),this.isTooltip()){const e=document.createElement("style");e.textContent=".just-validate-error-label[data-tooltip=true]{position:fixed;padding:4px 8px;background:#423f3f;color:#fff;white-space:nowrap;z-index:10;border-radius:4px;transform:translateY(-5px)}.just-validate-error-label[data-tooltip=true]:before{content:'';width:0;height:0;border-left:solid 5px transparent;border-right:solid 5px transparent;border-bottom:solid 5px #423f3f;position:absolute;z-index:3;display:block;bottom:-5px;transform:rotate(180deg);left:calc(50% - 5px)}.just-validate-error-label[data-tooltip=true][data-direction=left]{transform:translateX(-5px)}.just-validate-error-label[data-tooltip=true][data-direction=left]:before{right:-7px;bottom:auto;left:auto;top:calc(50% - 2px);transform:rotate(90deg)}.just-validate-error-label[data-tooltip=true][data-direction=right]{transform:translateX(5px)}.just-validate-error-label[data-tooltip=true][data-direction=right]:before{right:auto;bottom:auto;left:-7px;top:calc(50% - 2px);transform:rotate(-90deg)}.just-validate-error-label[data-tooltip=true][data-direction=bottom]{transform:translateY(5px)}.just-validate-error-label[data-tooltip=true][data-direction=bottom]:before{right:auto;bottom:auto;left:calc(50% - 5px);top:-5px;transform:rotate(0)}",this.customStyleTags[v.Label]=document.head.appendChild(e),this.addListener("scroll",document,this.handleDocumentScroll)}}getLocalisedString(e,t,i){var s;const a=null!=i?i:e;let n=null==(s=this.dictLocale.find((e=>e.key===a)))?void 0:s.dict[this.currentLocale];if(n||i&&(n=i),n&&void 0!==t)switch(e){case f.MaxLength:case f.MinLength:case f.MaxNumber:case f.MinNumber:case f.MinFilesCount:case f.MaxFilesCount:n=n.replace(":value",String(t))}return n||i||"Value is incorrect"}getFieldErrorMessage(e,t){const i="function"==typeof e.errorMessage?e.errorMessage(this.getElemValue(t),this.fields):e.errorMessage;return this.getLocalisedString(e.rule,e.value,i)}getFieldSuccessMessage(e,t){const i="function"==typeof e?e(this.getElemValue(t),this.fields):e;return this.getLocalisedString(void 0,void 0,i)}getGroupErrorMessage(e){return this.getLocalisedString(e.rule,void 0,e.errorMessage)}getGroupSuccessMessage(e){if(e.successMessage)return this.getLocalisedString(void 0,void 0,e.successMessage)}setFieldInvalid(e,t){this.fields[e].isValid=!1,this.fields[e].errorMessage=this.getFieldErrorMessage(t,this.fields[e].elem)}setFieldValid(e,t){this.fields[e].isValid=!0,void 0!==t&&(this.fields[e].successMessage=this.getFieldSuccessMessage(t,this.fields[e].elem))}setGroupInvalid(e,t){this.groupFields[e].isValid=!1,this.groupFields[e].errorMessage=this.getGroupErrorMessage(t)}setGroupValid(e,t){this.groupFields[e].isValid=!0,this.groupFields[e].successMessage=this.getGroupSuccessMessage(t)}getElemValue(e){switch(e.type){case"checkbox":return e.checked;case"file":return e.files;default:return e.value}}validateGroupRule(e,t,i){i.rule===p.Required&&(t.every((e=>!e.checked))?this.setGroupInvalid(e,i):this.setGroupValid(e,i))}validateFieldRule(e,t,i,s=!1){const a=i.value,n=this.getElemValue(t);var l;if(i.plugin)i.plugin(n,this.getCompatibleFields())||this.setFieldInvalid(e,i);else switch(i.rule){case f.Required:(e=>{let t=e;return"string"==typeof e&&(t=e.trim()),!t})(n)&&this.setFieldInvalid(e,i);break;case f.Email:if(h(n))break;l=n,r.test(l)||this.setFieldInvalid(e,i);break;case f.MaxLength:if(void 0===a){console.error(`Value for ${i.rule} rule for [${e}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(e,i);break}if("number"!=typeof a){console.error(`Value for ${i.rule} rule for [${e}] should be a number. The field will be always invalid.`),this.setFieldInvalid(e,i);break}if(h(n))break;((e,t)=>e.length>t)(n,a)&&this.setFieldInvalid(e,i);break;case f.MinLength:if(void 0===a){console.error(`Value for ${i.rule} rule for [${e}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(e,i);break}if("number"!=typeof a){console.error(`Value for ${i.rule} rule for [${e}] should be a number. The field will be always invalid.`),this.setFieldInvalid(e,i);break}if(h(n))break;((e,t)=>e.length<t)(n,a)&&this.setFieldInvalid(e,i);break;case f.Password:if(h(n))break;(e=>d.test(e))(n)||this.setFieldInvalid(e,i);break;case f.StrongPassword:if(h(n))break;(e=>u.test(e))(n)||this.setFieldInvalid(e,i);break;case f.Number:if(h(n))break;(e=>"string"==typeof e&&!isNaN(+e)&&!isNaN(parseFloat(e)))(n)||this.setFieldInvalid(e,i);break;case f.Integer:if(h(n))break;(e=>c.test(e))(n)||this.setFieldInvalid(e,i);break;case f.MaxNumber:{if(void 0===a){console.error(`Value for ${i.rule} rule for [${e}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(e,i);break}if("number"!=typeof a){console.error(`Value for ${i.rule} rule for [${e}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(e,i);break}if(h(n))break;const t=+n;(Number.isNaN(t)||((e,t)=>e>t)(t,a))&&this.setFieldInvalid(e,i);break}case f.MinNumber:{if(void 0===a){console.error(`Value for ${i.rule} rule for [${e}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(e,i);break}if("number"!=typeof a){console.error(`Value for ${i.rule} rule for [${e}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(e,i);break}if(h(n))break;const t=+n;(Number.isNaN(t)||((e,t)=>e<t)(t,a))&&this.setFieldInvalid(e,i);break}case f.CustomRegexp:{if(void 0===a)return console.error(`Value for ${i.rule} rule for [${e}] field is not defined. This field will be always invalid.`),void this.setFieldInvalid(e,i);let t;try{t=new RegExp(a)}catch(t){console.error(`Value for ${i.rule} rule for [${e}] should be a valid regexp. This field will be always invalid.`),this.setFieldInvalid(e,i);break}const s=String(n);""===s||t.test(s)||this.setFieldInvalid(e,i);break}case f.MinFilesCount:if(void 0===a){console.error(`Value for ${i.rule} rule for [${e}] field is not defined. This field will be always invalid.`),this.setFieldInvalid(e,i);break}if("number"!=typeof a){console.error(`Value for ${i.rule} rule for [${e}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(e,i);break}if(Number.isFinite(null==n?void 0:n.length)&&n.length<a){this.setFieldInvalid(e,i);break}break;case f.MaxFilesCount:if(void 0===a){console.error(`Value for ${i.rule} rule for [${e}] field is not defined. This field will be always invalid.`),this.setFieldInvalid(e,i);break}if("number"!=typeof a){console.error(`Value for ${i.rule} rule for [${e}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(e,i);break}if(Number.isFinite(null==n?void 0:n.length)&&n.length>a){this.setFieldInvalid(e,i);break}break;case f.Files:{if(void 0===a)return console.error(`Value for ${i.rule} rule for [${e}] field is not defined. This field will be always invalid.`),void this.setFieldInvalid(e,i);if("object"!=typeof a)return console.error(`Value for ${i.rule} rule for [${e}] field should be an object. This field will be always invalid.`),void this.setFieldInvalid(e,i);const t=a.files;if("object"!=typeof t)return console.error(`Value for ${i.rule} rule for [${e}] field should be an object with files array. This field will be always invalid.`),void this.setFieldInvalid(e,i);const s=(e,t)=>{const i=Number.isFinite(t.minSize)&&e.size<t.minSize,s=Number.isFinite(t.maxSize)&&e.size>t.maxSize,a=Array.isArray(t.names)&&!t.names.includes(e.name),n=Array.isArray(t.extensions)&&!t.extensions.includes(e.name.split(".")[e.name.split(".").length-1]),l=Array.isArray(t.types)&&!t.types.includes(e.type);return i||s||a||n||l};if("object"==typeof n&&null!==n)for(let a=0,l=n.length;a<l;++a){const l=n.item(a);if(!l){this.setFieldInvalid(e,i);break}if(s(l,t)){this.setFieldInvalid(e,i);break}}break}default:{if("function"!=typeof i.validator)return console.error(`Validator for custom rule for [${e}] field should be a function. This field will be always invalid.`),void this.setFieldInvalid(e,i);const t=i.validator(n,this.getCompatibleFields());if("boolean"!=typeof t&&"function"!=typeof t&&console.error(`Validator return value for [${e}] field should be boolean or function. It will be cast to boolean.`),"function"==typeof t){if(!s){this.fields[e].asyncCheckPending=!1;const s=t();return g(s)?s.then((t=>{t||this.setFieldInvalid(e,i)})).catch((()=>{this.setFieldInvalid(e,i)})):(console.error(`Validator function for custom rule for [${e}] field should return a Promise. This field will be always invalid.`),void this.setFieldInvalid(e,i))}this.fields[e].asyncCheckPending=!0}t||this.setFieldInvalid(e,i)}}}isFormValid(){let e=!0;for(let t=0,i=Object.values(this.fields).length;t<i;++t){const i=Object.values(this.fields)[t];if(void 0===i.isValid){e=void 0;break}if(!1===i.isValid){e=!1;break}}for(let t=0,i=Object.values(this.groupFields).length;t<i;++t){const i=Object.values(this.groupFields)[t];if(void 0===i.isValid){e=void 0;break}if(!1===i.isValid){e=!1;break}}return e}validateField(e,t=!1){var i;const s=this.fields[e];s.isValid=!0;const a=[];return[...s.rules].reverse().forEach((i=>{const n=this.validateFieldRule(e,s.elem,i,t);g(n)&&a.push(n)})),s.isValid&&this.setFieldValid(e,null==(i=s.config)?void 0:i.successMessage),Promise.allSettled(a).finally((()=>{var e;t&&(null==(e=this.onValidateCallback)||e.call(this,{isValid:this.isFormValid(),isSubmitted:this.isSubmitted,fields:this.getCompatibleFields(),groups:{...this.groupFields}}))}))}revalidateField(e){if("string"!=typeof e&&!k(e))throw Error("Field selector is not valid. Please specify a string selector or a valid DOM element.");const t=this.getKeyByFieldSelector(e);return t&&this.fields[t]?new Promise((e=>{this.validateField(t,!0).finally((()=>{this.clearFieldStyle(t),this.clearFieldLabel(t),this.renderFieldError(t,!0),e(!!this.fields[t].isValid)}))})):(console.error("Field not found. Check the field selector."),Promise.reject())}revalidateGroup(e){if("string"!=typeof e&&!k(e))throw Error("Group selector is not valid. Please specify a string selector or a valid DOM element.");const t=this.getKeyByFieldSelector(e);return t&&this.groupFields[t]?new Promise((e=>{this.validateGroup(t).finally((()=>{this.clearFieldLabel(t),this.renderGroupError(t,!0),e(!!this.groupFields[t].isValid)}))})):(console.error("Group not found. Check the group selector."),Promise.reject())}validateGroup(e,t=!1){const i=this.groupFields[e],s=[];return[...i.rules].reverse().forEach((t=>{const a=this.validateGroupRule(e,i.elems,t);g(a)&&s.push(a)})),Promise.allSettled(s).finally((()=>{var e;t&&(null==(e=this.onValidateCallback)||e.call(this,{isValid:this.isFormValid(),isSubmitted:this.isSubmitted,fields:this.getCompatibleFields(),groups:{...this.groupFields}}))}))}focusInvalidField(){for(const e in this.fields){const t=this.fields[e];if(!t.isValid){setTimeout((()=>t.elem.focus()),0);break}}}afterSubmitValidation(e=!1){this.renderErrors(e),this.globalConfig.focusInvalidField&&this.focusInvalidField()}validate(e=!1){return new Promise((t=>{const i=[];Object.keys(this.fields).forEach((e=>{const t=this.validateField(e);g(t)&&i.push(t)})),Object.keys(this.groupFields).forEach((e=>{const t=this.validateGroup(e);g(t)&&i.push(t)})),Promise.allSettled(i).then((()=>{var s;this.afterSubmitValidation(e),null==(s=this.onValidateCallback)||s.call(this,{isValid:this.isFormValid(),isSubmitted:this.isSubmitted,fields:this.getCompatibleFields(),groups:{...this.groupFields}}),t(!!i.length)}))}))}revalidate(){return new Promise((e=>{this.validateHandler(void 0,!0).finally((()=>{this.globalConfig.focusInvalidField&&this.focusInvalidField(),e(this.isValid)}))}))}validateHandler(e,t=!1){return this.globalConfig.lockForm&&this.lockForm(),this.validate(t).finally((()=>{var t,i,s;this.globalConfig.lockForm&&this.unlockForm(),this.isValid?(null==(t=this.onSuccessCallback)||t.call(this,e),this.globalConfig.submitFormAutomatically&&(null==(i=null==e?void 0:e.currentTarget)||i.submit())):null==(s=this.onFailCallback)||s.call(this,this.getCompatibleFields(),this.groupFields)}))}setForm(e){this.form=e,this.form.setAttribute("novalidate","novalidate"),this.removeListener("submit",this.form,this.formSubmitHandler),this.addListener("submit",this.form,this.formSubmitHandler)}addListener(e,t,i){t.addEventListener(e,i),this.eventListeners.push({type:e,elem:t,func:i})}removeListener(e,t,i){t.removeEventListener(e,i),this.eventListeners=this.eventListeners.filter((i=>i.type!==e||i.elem!==t))}addField(e,t,i){if("string"!=typeof e&&!k(e))throw Error("Field selector is not valid. Please specify a string selector or a valid DOM element.");let s;if(s="string"==typeof e?this.form.querySelector(e):e,!s)throw Error("Field doesn't exist in the DOM! Please check the field selector.");if(!Array.isArray(t)||!t.length)throw Error("Rules argument should be an array and should contain at least 1 element.");t.forEach((e=>{if(!("rule"in e||"validator"in e||"plugin"in e))throw Error("Rules argument must contain at least one rule or validator property.");if(!(e.validator||e.plugin||e.rule&&Object.values(f).includes(e.rule)))throw Error(`Rule should be one of these types: ${Object.values(f).join(", ")}. Provided value: ${e.rule}`)}));const a=this.setKeyByFieldSelector(e);return this.fields[a]={elem:s,rules:t,isValid:void 0,touched:!1,config:i},this.setListeners(s),(this.isSubmitted||this.globalConfig.validateBeforeSubmitting)&&this.validateField(a),this}removeField(e){if("string"!=typeof e&&!k(e))throw Error("Field selector is not valid. Please specify a string selector or a valid DOM element.");const t=this.getKeyByFieldSelector(e);if(!t||!this.fields[t])return console.error("Field not found. Check the field selector."),this;const i=this.getListenerType(this.fields[t].elem.type);return this.removeListener(i,this.fields[t].elem,this.handlerChange),this.clearErrors(),delete this.fields[t],this}removeGroup(e){if("string"!=typeof e)throw Error("Group selector is not valid. Please specify a string selector.");const t=this.getKeyByFieldSelector(e);return t&&this.groupFields[t]?(this.groupFields[t].elems.forEach((e=>{const t=this.getListenerType(e.type);this.removeListener(t,e,this.handlerChange)})),this.clearErrors(),delete this.groupFields[t],this):(console.error("Group not found. Check the group selector."),this)}addRequiredGroup(e,t,i,s){if("string"!=typeof e&&!k(e))throw Error("Group selector is not valid. Please specify a string selector or a valid DOM element.");let a;if(a="string"==typeof e?this.form.querySelector(e):e,!a)throw Error("Group selector not found! Please check the group selector.");const n=a.querySelectorAll("input"),l=Array.from(n).filter((e=>{const t=((e,t)=>{const i=[...t].reverse();for(let t=0,s=i.length;t<s;++t){const s=i[t];for(const t in e){const i=e[t];if(i.groupElem===s)return[t,i]}}return null})(this.groupFields,(e=>{let t=e;const i=[];for(;t;)i.unshift(t),t=t.parentNode;return i})(e));return!t||t[1].elems.find((t=>t!==e))})),o=this.setKeyByFieldSelector(e);return this.groupFields[o]={rules:[{rule:p.Required,errorMessage:t,successMessage:s}],groupElem:a,elems:l,touched:!1,isValid:void 0,config:i},n.forEach((e=>{this.setListeners(e)})),this}getListenerType(e){switch(e){case"checkbox":case"select-one":case"file":case"radio":return"change";default:return"input"}}setListeners(e){const t=this.getListenerType(e.type);this.removeListener(t,e,this.handlerChange),this.addListener(t,e,this.handlerChange)}clearFieldLabel(e){var t,i;null==(t=this.errorLabels[e])||t.remove(),null==(i=this.successLabels[e])||i.remove()}clearFieldStyle(e){var t,i,s,a;const n=this.fields[e],l=(null==(t=n.config)?void 0:t.errorFieldStyle)||this.globalConfig.errorFieldStyle;Object.keys(l).forEach((e=>{n.elem.style[e]=""}));const o=(null==(i=n.config)?void 0:i.successFieldStyle)||this.globalConfig.successFieldStyle||{};Object.keys(o).forEach((e=>{n.elem.style[e]=""})),n.elem.classList.remove(...b((null==(s=n.config)?void 0:s.errorFieldCssClass)||this.globalConfig.errorFieldCssClass),...b((null==(a=n.config)?void 0:a.successFieldCssClass)||this.globalConfig.successFieldCssClass))}clearErrors(){var e,t;Object.keys(this.errorLabels).forEach((e=>this.errorLabels[e].remove())),Object.keys(this.successLabels).forEach((e=>this.successLabels[e].remove()));for(const e in this.fields)this.clearFieldStyle(e);for(const i in this.groupFields){const s=this.groupFields[i],a=(null==(e=s.config)?void 0:e.errorFieldStyle)||this.globalConfig.errorFieldStyle;Object.keys(a).forEach((e=>{s.elems.forEach((t=>{var i;t.style[e]="",t.classList.remove(...b((null==(i=s.config)?void 0:i.errorFieldCssClass)||this.globalConfig.errorFieldCssClass))}))}));const n=(null==(t=s.config)?void 0:t.successFieldStyle)||this.globalConfig.successFieldStyle||{};Object.keys(n).forEach((e=>{s.elems.forEach((t=>{var i;t.style[e]="",t.classList.remove(...b((null==(i=s.config)?void 0:i.successFieldCssClass)||this.globalConfig.successFieldCssClass))}))}))}this.tooltips=[]}isTooltip(){return!!this.globalConfig.tooltip}lockForm(){const e=this.form.querySelectorAll("input, textarea, button, select");for(let t=0,i=e.length;t<i;++t)e[t].setAttribute("data-just-validate-fallback-disabled",e[t].disabled?"true":"false"),e[t].setAttribute("disabled","disabled"),e[t].style.pointerEvents="none",e[t].style.webkitFilter="grayscale(100%)",e[t].style.filter="grayscale(100%)"}unlockForm(){const e=this.form.querySelectorAll("input, textarea, button, select");for(let t=0,i=e.length;t<i;++t)"true"!==e[t].getAttribute("data-just-validate-fallback-disabled")&&e[t].removeAttribute("disabled"),e[t].style.pointerEvents="",e[t].style.webkitFilter="",e[t].style.filter=""}renderTooltip(e,t,i){var s;const{top:a,left:n,width:l,height:o}=e.getBoundingClientRect(),r=t.getBoundingClientRect(),c=i||(null==(s=this.globalConfig.tooltip)?void 0:s.position);switch(c){case"left":t.style.top=a+o/2-r.height/2+"px",t.style.left=n-r.width-5+"px";break;case"top":t.style.top=a-r.height-5+"px",t.style.left=n+l/2-r.width/2+"px";break;case"right":t.style.top=a+o/2-r.height/2+"px",t.style.left=`${n+l+5}px`;break;case"bottom":t.style.top=`${a+o+5}px`,t.style.left=n+l/2-r.width/2+"px"}return t.dataset.direction=c,{refresh:()=>{this.renderTooltip(e,t,i)}}}createErrorLabelElem(e,t,i){const s=document.createElement("div");s.innerHTML=t;const a=this.isTooltip()?null==i?void 0:i.errorLabelStyle:(null==i?void 0:i.errorLabelStyle)||this.globalConfig.errorLabelStyle;return Object.assign(s.style,a),s.classList.add(...b((null==i?void 0:i.errorLabelCssClass)||this.globalConfig.errorLabelCssClass),"just-validate-error-label"),this.isTooltip()&&(s.dataset.tooltip="true"),this.globalConfig.testingMode&&(s.dataset.testId=`error-label-${e}`),this.errorLabels[e]=s,s}createSuccessLabelElem(e,t,i){if(void 0===t)return null;const s=document.createElement("div");s.innerHTML=t;const a=(null==i?void 0:i.successLabelStyle)||this.globalConfig.successLabelStyle;return Object.assign(s.style,a),s.classList.add(...b((null==i?void 0:i.successLabelCssClass)||this.globalConfig.successLabelCssClass),"just-validate-success-label"),this.globalConfig.testingMode&&(s.dataset.testId=`success-label-${e}`),this.successLabels[e]=s,s}renderErrorsContainer(e,t){const i=t||this.globalConfig.errorsContainer;if("string"==typeof i){const t=this.form.querySelector(i);if(t)return t.appendChild(e),!0;console.error(`Error container with ${i} selector not found. Errors will be rendered as usual`)}return i instanceof Element?(i.appendChild(e),!0):(void 0!==i&&console.error("Error container not found. It should be a string or existing Element. Errors will be rendered as usual"),!1)}renderGroupLabel(e,t,i,s){!s&&this.renderErrorsContainer(t,i)||e.appendChild(t)}renderFieldLabel(e,t,i,s){var a,n,l,o,r,c,d;if(s||!this.renderErrorsContainer(t,i))if("checkbox"===e.type||"radio"===e.type){const i=document.querySelector(`label[for="${e.getAttribute("id")}"]`);"label"===(null==(n=null==(a=e.parentElement)?void 0:a.tagName)?void 0:n.toLowerCase())?null==(o=null==(l=e.parentElement)?void 0:l.parentElement)||o.appendChild(t):i?null==(r=i.parentElement)||r.appendChild(t):null==(c=e.parentElement)||c.appendChild(t)}else null==(d=e.parentElement)||d.appendChild(t)}showLabels(e,t){Object.keys(e).forEach(((i,s)=>{const a=e[i],n=this.getKeyByFieldSelector(i);if(!n||!this.fields[n])return void console.error("Field not found. Check the field selector.");const l=this.fields[n];l.isValid=!t,this.clearFieldStyle(n),this.clearFieldLabel(n),this.renderFieldError(n,!1,a),0===s&&this.globalConfig.focusInvalidField&&setTimeout((()=>l.elem.focus()),0)}))}showErrors(e){if("object"!=typeof e)throw Error("[showErrors]: Errors should be an object with key: value format");this.showLabels(e,!0)}showSuccessLabels(e){if("object"!=typeof e)throw Error("[showSuccessLabels]: Labels should be an object with key: value format");this.showLabels(e,!1)}renderFieldError(e,t=!1,i){var s,a,n,l,o,r;const c=this.fields[e];if(!1===c.isValid&&(this.isValid=!1),void 0===c.isValid||!t&&!this.isSubmitted&&!c.touched&&void 0===i)return;if(c.isValid){if(!c.asyncCheckPending){const t=this.createSuccessLabelElem(e,void 0!==i?i:c.successMessage,c.config);t&&this.renderFieldLabel(c.elem,t,null==(s=c.config)?void 0:s.errorsContainer,!0),c.elem.classList.add(...b((null==(a=c.config)?void 0:a.successFieldCssClass)||this.globalConfig.successFieldCssClass))}return}c.elem.classList.add(...b((null==(n=c.config)?void 0:n.errorFieldCssClass)||this.globalConfig.errorFieldCssClass));const d=this.createErrorLabelElem(e,void 0!==i?i:c.errorMessage,c.config);this.renderFieldLabel(c.elem,d,null==(l=c.config)?void 0:l.errorsContainer),this.isTooltip()&&this.tooltips.push(this.renderTooltip(c.elem,d,null==(r=null==(o=c.config)?void 0:o.tooltip)?void 0:r.position))}renderGroupError(e,t=!0){var i,s,a,n;const l=this.groupFields[e];if(!1===l.isValid&&(this.isValid=!1),void 0===l.isValid||!t&&!this.isSubmitted&&!l.touched)return;if(l.isValid){l.elems.forEach((e=>{var t,i;Object.assign(e.style,(null==(t=l.config)?void 0:t.successFieldStyle)||this.globalConfig.successFieldStyle),e.classList.add(...b((null==(i=l.config)?void 0:i.successFieldCssClass)||this.globalConfig.successFieldCssClass))}));const t=this.createSuccessLabelElem(e,l.successMessage,l.config);return void(t&&this.renderGroupLabel(l.groupElem,t,null==(i=l.config)?void 0:i.errorsContainer,!0))}this.isValid=!1,l.elems.forEach((e=>{var t,i;Object.assign(e.style,(null==(t=l.config)?void 0:t.errorFieldStyle)||this.globalConfig.errorFieldStyle),e.classList.add(...b((null==(i=l.config)?void 0:i.errorFieldCssClass)||this.globalConfig.errorFieldCssClass))}));const o=this.createErrorLabelElem(e,l.errorMessage,l.config);this.renderGroupLabel(l.groupElem,o,null==(s=l.config)?void 0:s.errorsContainer),this.isTooltip()&&this.tooltips.push(this.renderTooltip(l.groupElem,o,null==(n=null==(a=l.config)?void 0:a.tooltip)?void 0:n.position))}renderErrors(e=!1){if(this.isSubmitted||e||this.globalConfig.validateBeforeSubmitting){this.clearErrors(),this.isValid=!0;for(const e in this.groupFields)this.renderGroupError(e);for(const e in this.fields)this.renderFieldError(e)}}destroy(){this.eventListeners.forEach((e=>{this.removeListener(e.type,e.elem,e.func)})),Object.keys(this.customStyleTags).forEach((e=>{this.customStyleTags[e].remove()})),this.clearErrors(),this.globalConfig.lockForm&&this.unlockForm()}refresh(){this.destroy(),this.form?(this.initialize(this.form,this.globalConfig),Object.keys(this.fields).forEach((e=>{const t=this.getFieldSelectorByKey(e);t&&this.addField(t,[...this.fields[e].rules],this.fields[e].config)}))):console.error("Cannot initialize the library! Form is not defined")}setCurrentLocale(e){"string"==typeof e||void 0===e?(this.currentLocale=e,this.isSubmitted&&this.validate()):console.error("Current locale should be a string")}onSuccess(e){return this.onSuccessCallback=e,this}onFail(e){return this.onFailCallback=e,this}onValidate(e){return this.onValidateCallback=e,this}}const E={AltGraph:18,ArrowDown:40,ArrowLeft:37,ArrowRight:39,ArrowUp:38,Backspace:8,BACKSPACE_SAFARI:127,CapsLock:20,Delete:46,End:35,Enter:13,Escape:27,Home:36,Insert:45,PageDown:34,PageUp:33,Space:32,Tab:9,c:67,x:88,z:90,Shift:16,Control:17,Alt:18,Pause:19,Meta_LEFT:91,Meta_RIGHT:92,ContextMenu:93,Process:229,Unidentified:229,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},F=(Object.entries(E).reduce(((e,[t,i])=>(e[i]=void 0===e[i]?t:e[i],e)),{}),Object.entries(E).reduce(((e,[t,i])=>(e[t]="Space"===t?" ":t,e)),{}));function C(e,t){var i=(null!=e.alternation?e.mloc[S(e)]:e.locator).join("");if(""!==i)for(;i.length<t;)i+="0";return i}function S(e){var t=e.locator[e.alternation];return"string"==typeof t&&t.length>0&&(t=t.split(",")[0]),void 0!==t?t.toString():""}function L(e,t,i){const s=this,a=this.opts,n=this.maskset;if(void 0!==(t=t||O.call(s,e).match).placeholder||!0===i)return"function"==typeof t.placeholder?t.placeholder(a):t.placeholder;if(!0===t.static){if(e>-1&&void 0===n.validPositions[e]){var l,o=M.call(s,e),r=[];if(o.length>1+(""===o[o.length-1].match.def?1:0))for(var c=0;c<o.length;c++)if(""!==o[c].match.def&&!0!==o[c].match.optionality&&!0!==o[c].match.optionalQuantifier&&(!0===o[c].match.static||void 0===l||!1!==o[c].match.fn.test(l.match.def,n,e,!0,a))&&(r.push(o[c]),!0===o[c].match.static&&(l=o[c]),r.length>1&&/[0-9a-bA-Z]/.test(r[0].match.def)))return a.placeholder.charAt(e%a.placeholder.length)}return t.def}return a.placeholder.charAt(e%a.placeholder.length)}function x(e,t,i,s,a){var n=this,l=this.opts,o=this.maskset,r=l.greedy;a&&l.greedy&&(l.greedy=!1,n.maskset.tests={}),t=t||0;var c,d,u,h,f=[],p=0;do{if(!0===e&&o.validPositions[p])d=(u=a&&o.validPositions[p].match.optionality&&void 0===o.validPositions[p+1]&&(!0===o.validPositions[p].generatedInput||o.validPositions[p].input==l.skipOptionalPartCharacter&&p>0)?P.call(n,p,M.call(n,p,c,p-1)):o.validPositions[p]).match,c=u.locator.slice(),f.push(!0===i?u.input:!1===i?d.nativeDef:L.call(n,p,d));else{d=(u=_.call(n,p,c,p-1)).match,c=u.locator.slice();var v=!0!==s&&(!1!==l.jitMasking?l.jitMasking:d.jit);(h=(h&&d.static&&d.def!==l.groupSeparator&&null===d.fn||o.validPositions[p-1]&&d.static&&d.def!==l.groupSeparator&&null===d.fn)&&o.tests[p])||!1===v||void 0===v||"number"==typeof v&&isFinite(v)&&v>p?f.push(!1===i?d.nativeDef:L.call(n,f.length,d)):h=!1}p++}while(!0!==d.static||""!==d.def||t>p);return""===f[f.length-1]&&f.pop(),!1===i&&void 0!==o.maskLength||(o.maskLength=p-1),l.greedy=r,f}function _(e,t,i){return this.maskset.validPositions[e]||P.call(this,e,M.call(this,e,t?t.slice():t,i))}function P(e,t){var i=this.opts,s=0,a=function(e,t){let i=0,s=!1;return t.forEach((e=>{e.match.optionality&&(0!==i&&i!==e.match.optionality&&(s=!0),(0===i||i>e.match.optionality)&&(i=e.match.optionality))})),i&&(0==e||1==t.length?i=0:s||(i=0)),i}(e,t);e=e>0?e-1:0;var n,l,o,r=C(O.call(this,e));i.greedy&&t.length>1&&""===t[t.length-1].match.def&&(s=1);for(var c=0;c<t.length-s;c++){var d=t[c];n=C(d,r.length);var u=Math.abs(n-r);(void 0===l||""!==n&&u<l||o&&!i.greedy&&o.match.optionality&&o.match.optionality-a>0&&"master"===o.match.newBlockMarker&&(!d.match.optionality||d.match.optionality-a<1||!d.match.newBlockMarker)||o&&!i.greedy&&o.match.optionalQuantifier&&!d.match.optionalQuantifier)&&(l=u,o=d)}return o}function O(e,t){var i=this.maskset;return i.validPositions[e]?i.validPositions[e]:(t||M.call(this,e))[0]}function T(e,t,i){function s(e){for(var t,i=[],s=-1,a=0,n=e.length;a<n;a++)if("-"===e.charAt(a))for(t=e.charCodeAt(a+1);++s<t;)i.push(String.fromCharCode(s));else s=e.charCodeAt(a),i.push(e.charAt(a));return i.join("")}return e.match.def===t.match.nativeDef||!(!(i.regex||e.match.fn instanceof RegExp&&t.match.fn instanceof RegExp)||!0===e.match.static||!0===t.match.static)&&-1!==s(t.match.fn.toString().replace(/[[\]/]/g,"")).indexOf(s(e.match.fn.toString().replace(/[[\]/]/g,"")))}function M(e,t,i){var s,a,n=this,l=this.dependencyLib,o=this.maskset,r=this.opts,c=this.el,d=o.maskToken,u=t?i:0,h=t?t.slice():[0],f=[],p=!1,v=t?t.join(""):"";function m(t,i,a,l){function d(a,l,h){function b(e,t){var i=0===t.matches.indexOf(e);return i||t.matches.every((function(s,a){return!0===s.isQuantifier?i=b(e,t.matches[a-1]):Object.prototype.hasOwnProperty.call(s,"matches")&&(i=b(e,s)),!i})),i}function k(e,t,i){var s,a;if((o.tests[e]||o.validPositions[e])&&(o.tests[e]||[o.validPositions[e]]).every((function(e,n){if(e.mloc[t])return s=e,!1;var l=void 0!==i?i:e.alternation,o=void 0!==e.locator[l]?e.locator[l].toString().indexOf(t):-1;return(void 0===a||o<a)&&-1!==o&&(s=e,a=o),!0})),s){var n=s.locator[s.alternation];return(s.mloc[t]||s.mloc[n]||s.locator).slice((void 0!==i?i:s.alternation)+1)}return void 0!==i?k(e,t):void 0}function y(e,t){var i=e.alternation,s=void 0===t||i===t.alternation&&-1===e.locator[i].toString().indexOf(t.locator[i]);if(!s&&i>t.alternation)for(var a=t.alternation;a<i;a++)if(e.locator[a]!==t.locator[a]){i=a,s=!0;break}if(s){e.mloc=e.mloc||{};var n=e.locator[i];if(void 0!==n){if("string"==typeof n&&(n=n.split(",")[0]),void 0===e.mloc[n]&&(e.mloc[n]=e.locator.slice()),void 0!==t){for(var l in t.mloc)"string"==typeof l&&(l=l.split(",")[0]),void 0===e.mloc[l]&&(e.mloc[l]=t.mloc[l]);e.locator[i]=Object.keys(e.mloc).join(",")}return!0}e.alternation=void 0}return!1}function w(e,t){if(e.locator.length!==t.locator.length)return!1;for(let i=e.alternation+1;i<e.locator.length;i++)if(e.locator[i]!==t.locator[i])return!1;return!0}if(u>e+r._maxTestPos)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+o.mask;if(u===e&&void 0===a.matches){if(f.push({match:a,locator:l.reverse(),cd:v,mloc:{}}),!a.optionality||void 0!==h||!(r.definitions&&r.definitions[a.nativeDef]&&r.definitions[a.nativeDef].optional||Me.prototype.definitions[a.nativeDef]&&Me.prototype.definitions[a.nativeDef].optional))return!0;p=!0,u=e}else if(void 0!==a.matches){if(a.isGroup&&h!==a)return function(){if(a=d(t.matches[t.matches.indexOf(a)+1],l,h))return!0}();if(a.isOptional)return function(){var t=a,n=f.length;if(a=m(a,i,l,h),f.length>0){if(f.forEach((function(e,t){t>=n&&(e.match.optionality=e.match.optionality?e.match.optionality+1:1)})),s=f[f.length-1].match,void 0!==h||!b(s,t))return a;p=!0,u=e}}();if(a.isAlternator)return function(){n.hasAlternator=!0;var s,v,m,g=a,b=[],E=f.slice(),F=l.length,C=!1,S=i.length>0?i.shift():-1;if(-1===S||"string"==typeof S){var L,x=u,_=i.slice(),P=[];if("string"==typeof S)P=S.split(",");else for(L=0;L<g.matches.length;L++)P.push(L.toString());if(void 0!==o.excludes[e]){for(var O=P.slice(),M=0,j=o.excludes[e].length;M<j;M++){var A=o.excludes[e][M].toString().split(":");l.length==A[1]&&P.splice(P.indexOf(A[0]),1)}0===P.length&&(delete o.excludes[e],P=O)}(!0===r.keepStatic||isFinite(parseInt(r.keepStatic))&&x>=r.keepStatic)&&(P=P.slice(0,1));for(var I=0;I<P.length;I++){L=parseInt(P[I]),f=[],i="string"==typeof S&&k(u,L,F)||_.slice();var V=g.matches[L];if(V&&d(V,[L].concat(l),h))a=!0;else if(0===I&&(C=!0),V&&V.matches&&V.matches.length>g.matches[0].matches.length)break;s=f.slice(),u=x,f=[];for(var D=0;D<s.length;D++){var G=s[D],R=!1;G.match.jit=G.match.jit||C,G.alternation=G.alternation||F,y(G);for(var $=0;$<b.length;$++){var B=b[$];if("string"!=typeof S||void 0!==G.alternation&&P.includes(G.locator[G.alternation].toString())){if(G.match.nativeDef===B.match.nativeDef){R=!0,y(B,G);break}if(T(G,B,r)){y(G,B)&&(R=!0,b.splice(b.indexOf(B),0,G));break}if(T(B,G,r)){y(B,G);break}if(m=B,!0===(v=G).match.static&&!0!==m.match.static&&m.match.fn.test(v.match.def,o,e,!1,r,!1)){w(G,B)||void 0!==c.inputmask.userOptions.keepStatic?y(G,B)&&(R=!0,b.splice(b.indexOf(B),0,G)):r.keepStatic=!0;break}}}R||b.push(G)}}f=E.concat(b),u=e,p=f.length>0,a=b.length>0,i=_.slice()}else a=d(g.matches[S]||t.matches[S],[S].concat(l),h);if(a)return!0}();if(a.isQuantifier&&h!==t.matches[t.matches.indexOf(a)-1])return function(){for(var n=a,c=!1,h=i.length>0?i.shift():0;h<(isNaN(n.quantifier.max)?h+1:n.quantifier.max)&&u<=e;h++){var m=t.matches[t.matches.indexOf(n)-1];if(a=d(m,[h].concat(l),m)){if(f.forEach((function(t,i){(s=g(m,t.match)?t.match:f[f.length-1].match).optionalQuantifier=h>=n.quantifier.min,s.jit=(h+1)*(m.matches.indexOf(s)+1)>n.quantifier.jit,s.optionalQuantifier&&b(s,m)&&(p=!0,u=e,r.greedy&&null==o.validPositions[e-1]&&h>n.quantifier.min&&-1!=["*","+"].indexOf(n.quantifier.max)&&(f.pop(),v=void 0),c=!0,a=!1),!c&&s.jit&&(o.jitOffset[e]=m.matches.length-m.matches.indexOf(s))})),c)break;return!0}}}();if(a=m(a,i,l,h))return!0}else u++}for(var h=i.length>0?i.shift():0;h<t.matches.length;h++)if(!0!==t.matches[h].isQuantifier){var b=d(t.matches[h],[h].concat(a),l);if(b&&u===e)return b;if(u>e)break}}function g(e,t){let i=-1!=e.matches.indexOf(t);return i||e.matches.forEach(((e,s)=>{void 0===e.matches||i||(i=g(e,t))})),i}if(e>-1){if(void 0===t){for(var b,k=e-1;void 0===(b=o.validPositions[k]||o.tests[k])&&k>-1;)k--;void 0!==b&&k>-1&&(h=function(e,t){let i,s=[];return Array.isArray(t)||(t=[t]),t.length>0&&(void 0===t[0].alternation||!0===r.keepStatic?(s=P.call(n,e,t.slice()).locator.slice(),0===s.length&&(s=t[0].locator.slice())):t.forEach((function(e){""!==e.def&&(0===s.length?(i=e.alternation,s=e.locator.slice()):e.locator[i]&&-1===s[i].toString().indexOf(e.locator[i])&&(s[i]+=","+e.locator[i]))}))),s}(k,b),v=h.join(""),u=k)}if(o.tests[e]&&o.tests[e][0].cd===v)return o.tests[e];for(var y=h.shift();y<d.length&&!(m(d[y],h,[y])&&u===e||u>e);y++);}return(0===f.length||p)&&f.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:v}),void 0!==t&&o.tests[e]?a=l.extend(!0,[],f):(o.tests[e]=l.extend(!0,[],f),a=o.tests[e]),f.forEach((e=>{e.match.optionality=e.match.defOptionality||!1})),a}var j=!("undefined"==typeof window||!window.document||!window.document.createElement),A=j?window:{};const I=A.navigator&&A.navigator.userAgent||"",V=I.indexOf("MSIE ")>0||I.indexOf("Trident/")>0,D=navigator.userAgentData&&navigator.userAgentData.mobile||A.navigator&&A.navigator.maxTouchPoints||"ontouchstart"in A,G=/iphone/i.test(I);function R(e,t){const i=e?e.inputmask:this,s=i.opts;e.inputmask.refreshValue=!1,"function"==typeof s.onBeforeMask&&(t=s.onBeforeMask.call(i,t,s)||t),B(e,!0,!1,t=(t||"").toString().split("")),i.undoValue=i._valueGet(!0),(s.clearMaskOnLostFocus||s.clearIncomplete)&&e.inputmask._valueGet()===oe.call(i).join("")&&-1===re.call(i)&&e.inputmask._valueSet("")}function $(e){e.length=0;for(var t,i=x.call(this,!0,0,!0,void 0,!0);void 0!==(t=i.shift());)e.push(t);return e}function B(e,t,i,s,a){const n=e?e.inputmask:this,l=n.maskset,o=n.opts,r=n.dependencyLib;var c=s.slice(),d="",u=-1,h=void 0,f=o.skipOptionalPartCharacter;o.skipOptionalPartCharacter="",de.call(n),l.tests={},u=o.radixPoint?ne.call(n,{begin:0,end:0},!1,!1===o.__financeInput?"radixFocus":void 0).begin:0,l.p=u,n.caretPos={begin:u};var p=[],v=n.caretPos;if(c.forEach((function(e,t){if(void 0!==e){var s=new r.Event("_checkval");s.key=e,d+=e;var a=re.call(n,void 0,!0);!function(e,t){for(var i=x.call(n,!0,0).slice(e,ue.call(n,e,!1,!1)).join("").replace(/'/g,""),s=i.indexOf(t);s>0&&" "===i[s-1];)s--;var a=0===s&&!ce.call(n,e)&&(O.call(n,e).match.nativeDef===t.charAt(0)||!0===O.call(n,e).match.static&&O.call(n,e).match.nativeDef==="'"+t.charAt(0)||" "===O.call(n,e).match.nativeDef&&(O.call(n,e+1).match.nativeDef===t.charAt(0)||!0===O.call(n,e+1).match.static&&O.call(n,e+1).match.nativeDef==="'"+t.charAt(0)));if(!a&&s>0&&!ce.call(n,e,!1,!0)){var l=ue.call(n,e);n.caretPos.begin<l&&(n.caretPos={begin:l})}return a}(u,d)?(h=K.keypressEvent.call(n,s,!0,!1,i,n.caretPos.begin))&&(u=n.caretPos.begin+1,d=""):h=K.keypressEvent.call(n,s,!0,!1,i,a+1),h?(void 0!==h.pos&&l.validPositions[h.pos]&&!0===l.validPositions[h.pos].match.static&&void 0===l.validPositions[h.pos].alternation&&(p.push(h.pos),n.isRTL||(h.forwardPosition=h.pos+1)),H.call(n,void 0,le.call(n),h.forwardPosition,s,!1),n.caretPos={begin:h.forwardPosition,end:h.forwardPosition},v=n.caretPos):void 0===l.validPositions[t]&&c[t]===L.call(n,t)&&ce.call(n,t,!0)?n.caretPos.begin++:n.caretPos=v}})),p.length>0){var m,g,b=ue.call(n,-1,void 0,!1);if(!W.call(n,le.call(n))&&p.length<=b||W.call(n,le.call(n))&&p.length>0&&p.length!==b&&0===p[0])for(var k=b;void 0!==(m=p.shift());){var y=new r.Event("_checkval");if((g=l.validPositions[m]).generatedInput=!0,y.key=g.input,(h=K.keypressEvent.call(n,y,!0,!1,i,k))&&void 0!==h.pos&&h.pos!==m&&l.validPositions[h.pos]&&!0===l.validPositions[h.pos].match.static)p.push(h.pos);else if(!h)break;k++}}t&&H.call(n,e,le.call(n),h?h.forwardPosition:n.caretPos.begin,a||new r.Event("checkval"),a&&("input"===a.type&&n.undoValue!==le.call(n).join("")||"paste"===a.type)),o.skipOptionalPartCharacter=f}function q(e,t){const i=e?e.inputmask:this;if(V){if(e.inputmask._valueGet()!==t&&(e.placeholder!==t||""===e.placeholder)){var s=le.call(i).slice(),a=e.inputmask._valueGet();if(a!==t){var n=re.call(i);-1===n&&a===oe.call(i).join("")?s=[]:-1!==n&&$.call(i,s),H(e,s)}}}else e.placeholder!==t&&(e.placeholder=t,""===e.placeholder&&e.removeAttribute("placeholder"))}function N(e){const t=e?e.inputmask:this,i=t.opts,s=t.maskset;if(e){if(void 0===e.inputmask)return e.value;e.inputmask&&e.inputmask.refreshValue&&R(e,e.inputmask._valueGet(!0))}var a=[],n=s.validPositions;for(let e=0,t=n.length;e<t;e++)n[e]&&n[e].match&&(1!=n[e].match.static||Array.isArray(s.metadata)&&!0!==n[e].generatedInput)&&a.push(n[e].input);var l=0===a.length?"":(t.isRTL?a.reverse():a).join("");if("function"==typeof i.onUnMask){var o=(t.isRTL?le.call(t).slice().reverse():le.call(t)).join("");l=i.onUnMask.call(t,o,l,i)}return l}function H(e,t,i,s,a){const n=e?e.inputmask:this,l=n.opts,o=n.dependencyLib;if(s&&"function"==typeof l.onBeforeWrite){var r=l.onBeforeWrite.call(n,s,t,i,l);if(r){if(r.refreshFromBuffer){var c=r.refreshFromBuffer;ee.call(n,!0===c?c:c.start,c.end,r.buffer||t),t=le.call(n,!0)}void 0!==i&&(i=void 0!==r.caret?r.caret:i)}}if(void 0!==e&&(e.inputmask._valueSet(t.join("")),void 0===i||void 0!==s&&"blur"===s.type||se.call(n,e,i,void 0,void 0,void 0!==s&&"keydown"===s.type&&(s.key===F.Delete||s.key===F.Backspace)),!0===a)){var d=o(e),u=e.inputmask._valueGet();e.inputmask.skipInputEvent=!0,d.trigger("input"),setTimeout((function(){u===oe.call(n).join("")?d.trigger("cleared"):!0===W.call(n,t)&&d.trigger("complete")}),0)}}var K={keyEvent:function(e,t,i,s,a){const n=this.inputmask,l=n.opts,o=n.dependencyLib,r=n.maskset;var c=this,d=o(c),u=e.key,h=se.call(n,c),f=l.onKeyDown.call(this,e,le.call(n),h,l);if(void 0!==f)return f;if(u===F.Backspace||u===F.Delete||G&&u===F.BACKSPACE_SAFARI||e.ctrlKey&&u===F.x&&!("oncut"in c))e.preventDefault(),Z.call(n,c,u,h),H(c,le.call(n,!0),r.p,e,c.inputmask._valueGet()!==le.call(n).join(""));else if(u===F.End||u===F.PageDown){e.preventDefault();var p=ue.call(n,re.call(n));se.call(n,c,e.shiftKey?h.begin:p,p,!0)}else u===F.Home&&!e.shiftKey||u===F.PageUp?(e.preventDefault(),se.call(n,c,0,e.shiftKey?h.begin:0,!0)):l.undoOnEscape&&u===F.Escape&&!0!==e.altKey?(B(c,!0,!1,n.undoValue.split("")),d.trigger("click")):u!==F.Insert||e.shiftKey||e.ctrlKey||void 0!==n.userOptions.insertMode?!0===l.tabThrough&&u===F.Tab?!0===e.shiftKey?(h.end=he.call(n,h.end,!0),!0===O.call(n,h.end-1).match.static&&h.end--,h.begin=he.call(n,h.end,!0),h.begin>=0&&h.end>0&&(e.preventDefault(),se.call(n,c,h.begin,h.end))):(h.begin=ue.call(n,h.begin,!0),h.end=ue.call(n,h.begin,!0),h.end<r.maskLength&&h.end--,h.begin<=r.maskLength&&(e.preventDefault(),se.call(n,c,h.begin,h.end))):e.shiftKey||l.insertModeVisual&&!1===l.insertMode&&(u===F.ArrowRight?setTimeout((function(){var e=se.call(n,c);se.call(n,c,e.begin)}),0):u===F.ArrowLeft&&setTimeout((function(){var e=fe.call(n,c.inputmask.caretPos.begin);fe.call(n,c.inputmask.caretPos.end),n.isRTL?se.call(n,c,e+(e===r.maskLength?0:1)):se.call(n,c,e-(0===e?0:1))}),0)):J.call(n,h)?l.insertMode=!l.insertMode:(l.insertMode=!l.insertMode,se.call(n,c,h.begin,h.begin));return n.isComposing=u==F.Process||u==F.Unidentified,n.ignorable=l.ignorables.includes(u),K.keypressEvent.call(this,e,t,i,s,a)},keypressEvent:function(e,t,i,s,a){const n=this.inputmask||this,l=n.opts,o=n.dependencyLib,r=n.maskset;var c=n.el,d=o(c),u=e.key;if(!0===t||e.ctrlKey&&e.altKey||!(e.ctrlKey||e.metaKey||n.ignorable)){if(u){var h,f=t?{begin:a,end:a}:se.call(n,c);u=l.substitutes[u]||u,r.writeOutBuffer=!0;var p=X.call(n,f,u,s,void 0,void 0,void 0,t);if(!1!==p&&(de.call(n,!0),h=void 0!==p.caret?p.caret:ue.call(n,p.pos.begin?p.pos.begin:p.pos),r.p=h),h=l.numericInput&&void 0===p.caret?he.call(n,h):h,!1!==i&&(setTimeout((function(){l.onKeyValidation.call(c,u,p)}),0),r.writeOutBuffer&&!1!==p)){var v=le.call(n);H(c,v,h,e,!0!==t)}if(e.preventDefault(),t)return!1!==p&&(p.forwardPosition=h),p}}else u===F.Enter&&n.undoValue!==n._valueGet(!0)&&(n.undoValue=n._valueGet(!0),setTimeout((function(){d.trigger("change")}),0))},pasteEvent:function(e){const t=this.inputmask,i=t.opts;var s,a=t._valueGet(!0),n=se.call(t,this);t.isRTL&&(s=n.end,n.end=fe.call(t,n.begin),n.begin=fe.call(t,s));var l=a.substr(0,n.begin),o=a.substr(n.end,a.length);if(l==(t.isRTL?oe.call(t).slice().reverse():oe.call(t)).slice(0,n.begin).join("")&&(l=""),o==(t.isRTL?oe.call(t).slice().reverse():oe.call(t)).slice(n.end).join("")&&(o=""),window.clipboardData&&window.clipboardData.getData)a=l+window.clipboardData.getData("Text")+o;else{if(!e.clipboardData||!e.clipboardData.getData)return!0;a=l+e.clipboardData.getData("text/plain")+o}var r=a;if(t.isRTL){r=r.split("");for(let e of oe.call(t))r[0]===e&&r.shift();r=r.join("")}if("function"==typeof i.onBeforePaste){if(!1===(r=i.onBeforePaste.call(t,r,i)))return!1;r||(r=a)}B(this,!0,!1,r.toString().split(""),e),e.preventDefault()},inputFallBackEvent:function(e){const t=this.inputmask,i=t.opts,s=t.dependencyLib;var a,n=this,l=n.inputmask._valueGet(!0),o=(t.isRTL?le.call(t).slice().reverse():le.call(t)).join(""),r=se.call(t,n,void 0,void 0,!0);if(o!==l){if(a=function(e,s,a){for(var n,l,o,r=e.substr(0,a.begin).split(""),c=e.substr(a.begin).split(""),d=s.substr(0,a.begin).split(""),u=s.substr(a.begin).split(""),h=r.length>=d.length?r.length:d.length,f=c.length>=u.length?c.length:u.length,p="",v=[],m="~";r.length<h;)r.push(m);for(;d.length<h;)d.push(m);for(;c.length<f;)c.unshift(m);for(;u.length<f;)u.unshift(m);var g=r.concat(c),b=d.concat(u);for(l=0,n=g.length;l<n;l++)switch(o=L.call(t,fe.call(t,l)),p){case"insertText":b[l-1]===g[l]&&a.begin==g.length-1&&v.push(g[l]),l=n;break;case"insertReplacementText":case"deleteContentBackward":g[l]===m?a.end++:l=n;break;default:g[l]!==b[l]&&(g[l+1]!==m&&g[l+1]!==o&&void 0!==g[l+1]||(b[l]!==o||b[l+1]!==m)&&b[l]!==m?b[l+1]===m&&b[l]===g[l+1]?(p="insertText",v.push(g[l]),a.begin--,a.end--):g[l]!==o&&g[l]!==m&&(g[l+1]===m||b[l]!==g[l]&&b[l+1]===g[l+1])?(p="insertReplacementText",v.push(g[l]),a.begin--):g[l]===m?(p="deleteContentBackward",(ce.call(t,fe.call(t,l),!0)||b[l]===i.radixPoint)&&a.end++):l=n:(p="insertText",v.push(g[l]),a.begin--,a.end--))}return{action:p,data:v,caret:a}}(l,o,r),(n.inputmask.shadowRoot||n.ownerDocument).activeElement!==n&&n.focus(),H(n,le.call(t)),se.call(t,n,r.begin,r.end,!0),!D&&t.skipNextInsert&&"insertText"===e.inputType&&"insertText"===a.action&&t.isComposing)return!1;switch("insertCompositionText"===e.inputType&&"insertText"===a.action&&t.isComposing?t.skipNextInsert=!0:t.skipNextInsert=!1,a.action){case"insertText":case"insertReplacementText":a.data.forEach((function(e,i){var a=new s.Event("keypress");a.key=e,t.ignorable=!1,K.keypressEvent.call(n,a)})),setTimeout((function(){t.$el.trigger("keyup")}),0);break;case"deleteContentBackward":var c=new s.Event("keydown");c.key=F.Backspace,K.keyEvent.call(n,c);break;default:R(n,l),se.call(t,n,r.begin,r.end,!0)}e.preventDefault()}},setValueEvent:function(e){const t=this.inputmask;var i=this,s=e&&e.detail?e.detail[0]:arguments[1];void 0===s&&(s=i.inputmask._valueGet(!0)),R(i,s),(e.detail&&void 0!==e.detail[1]||void 0!==arguments[2])&&se.call(t,i,e.detail?e.detail[1]:arguments[2])},focusEvent:function(e){const t=this.inputmask,i=t.opts;var s=t?._valueGet();i.showMaskOnFocus&&s!==le.call(t).join("")&&H(this,le.call(t),ue.call(t,re.call(t))),!0!==i.positionCaretOnTab||!1!==t.mouseEnter||W.call(t,le.call(t))&&-1!==re.call(t)||K.clickEvent.apply(this,[e,!0]),t.undoValue=t?._valueGet(!0)},invalidEvent:function(e){this.inputmask.validationEvent=!0},mouseleaveEvent:function(){const e=this.inputmask,t=e.opts;var i=this;e.mouseEnter=!1,t.clearMaskOnLostFocus&&(i.inputmask.shadowRoot||i.ownerDocument).activeElement!==i&&q(i,e.originalPlaceholder)},clickEvent:function(e,t){const i=this.inputmask;i.clicked++;var s=this;if((s.inputmask.shadowRoot||s.ownerDocument).activeElement===s){var a=ne.call(i,se.call(i,s),t);void 0!==a&&se.call(i,s,a)}},cutEvent:function(e){const t=this.inputmask,i=t.maskset;var s=this,a=se.call(t,s),n=t.isRTL?le.call(t).slice(a.end,a.begin):le.call(t).slice(a.begin,a.end),l=t.isRTL?n.reverse().join(""):n.join("");window.navigator.clipboard?window.navigator.clipboard.writeText(l):window.clipboardData&&window.clipboardData.getData&&window.clipboardData.setData("Text",l),Z.call(t,s,F.Delete,a),H(s,le.call(t),i.p,e,t.undoValue!==t._valueGet(!0))},blurEvent:function(e){const t=this.inputmask,i=t.opts,s=t.dependencyLib;t.clicked=0;var a=s(this),n=this;if(n.inputmask){q(n,t.originalPlaceholder);var l=n.inputmask._valueGet(),o=le.call(t).slice();""!==l&&(i.clearMaskOnLostFocus&&(-1===re.call(t)&&l===oe.call(t).join("")?o=[]:$.call(t,o)),!1===W.call(t,o)&&(setTimeout((function(){a.trigger("incomplete")}),0),i.clearIncomplete&&(de.call(t),o=i.clearMaskOnLostFocus?[]:oe.call(t).slice())),H(n,o,void 0,e)),t.undoValue!==t._valueGet(!0)&&(t.undoValue=t._valueGet(!0),a.trigger("change"))}},mouseenterEvent:function(){const e=this.inputmask,{showMaskOnHover:t}=e.opts;var i=this;if(e.mouseEnter=!0,(i.inputmask.shadowRoot||i.ownerDocument).activeElement!==i){var s=(e.isRTL?oe.call(e).slice().reverse():oe.call(e)).join("");t&&q(i,s)}},submitEvent:function(){const e=this.inputmask,t=e.opts;e.undoValue!==e._valueGet(!0)&&e.$el.trigger("change"),-1===re.call(e)&&e._valueGet&&e._valueGet()===oe.call(e).join("")&&e._valueSet(""),t.clearIncomplete&&!1===W.call(e,le.call(e))&&e._valueSet(""),t.removeMaskOnSubmit&&(e._valueSet(e.unmaskedvalue(),!0),setTimeout((function(){H(e.el,le.call(e))}),0))},resetEvent:function(){const e=this.inputmask;e.refreshValue=!0,setTimeout((function(){R(e.el,e._valueGet(!0))}),0)}};function z(e,t,i,s,a,n){const l=this,o=this.dependencyLib,r=this.opts,c=l.maskset;var d,u,h,f,p,v,m,g,b,k,y,w=o.extend(!0,[],c.validPositions),E=o.extend(!0,{},c.tests),F=!1,C=!1,L=void 0!==a?a:re.call(l);if(n&&(k=n.begin,y=n.end,n.begin>n.end&&(k=n.end,y=n.begin)),-1===L&&void 0===a)d=0,u=(f=O.call(l,d)).alternation;else for(;L>=0;L--)if((h=c.validPositions[L])&&void 0!==h.alternation){if(L<=(e||0)&&f&&f.locator[h.alternation]!==h.locator[h.alternation])break;d=L,u=c.validPositions[d].alternation,f=h}if(void 0!==u){m=parseInt(d),c.excludes[m]=c.excludes[m]||[],!0!==e&&c.excludes[m].push(S(f)+":"+f.alternation);var x=[],_=-1;for(p=m;p<re.call(l,void 0,!0)+1;p++)-1===_&&e<=p&&void 0!==t&&(x.push(t),_=x.length-1),(v=c.validPositions[p])&&!0!==v.generatedInput&&(void 0===n||p<k||p>=y)&&x.push(v.input),delete c.validPositions[p];for(-1===_&&void 0!==t&&(x.push(t),_=x.length-1);void 0!==c.excludes[m]&&c.excludes[m].length<10;){for(c.tests={},de.call(l,!0),F=!0,p=0;p<x.length&&(g=F.caret||re.call(l,void 0,!0)+1,b=x[p],F=X.call(l,g,b,!1,s,!0));p++)p===_&&(C=F),1==e&&F&&(C={caretPos:p});if(F)break;if(de.call(l),f=O.call(l,m),c.validPositions=o.extend(!0,[],w),c.tests=o.extend(!0,{},E),!c.excludes[m]){C=z.call(l,e,t,i,s,m-1,n);break}var P=S(f);if(-1!==c.excludes[m].indexOf(P+":"+f.alternation)){C=z.call(l,e,t,i,s,m-1,n);break}for(c.excludes[m].push(P+":"+f.alternation),p=m;p<re.call(l,void 0,!0)+1;p++)delete c.validPositions[p]}}return C&&!1===r.keepStatic||delete c.excludes[m],C}function U(e,t,i){const s=this.opts,a=this.maskset;switch(s.casing||t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break;case"title":var n=a.validPositions[i-1];e=0===i||n&&n.input===String.fromCharCode(E.Space)?e.toUpperCase():e.toLowerCase();break;default:if("function"==typeof s.casing){var l=Array.prototype.slice.call(arguments);l.push(a.validPositions),e=s.casing.apply(this,l)}}return e}function Q(e,t,i){for(var s,a=this.opts.greedy?t:t.slice(0,1),n=!1,l=void 0!==i?i.split(","):[],o=0;o<l.length;o++)-1!==(s=e.indexOf(l[o]))&&e.splice(s,1);for(var r=0;r<e.length;r++)if(a.includes(e[r])){n=!0;break}return n}function Z(e,t,i,s,a){const n=this,l=this.maskset,o=this.opts;if((o.numericInput||n.isRTL)&&(t===F.Backspace?t=F.Delete:t===F.Delete&&(t=F.Backspace),n.isRTL)){var r=i.end;i.end=i.begin,i.begin=r}var c,d=re.call(n,void 0,!0);if(i.end>=le.call(n).length&&d>=i.end&&(i.end=d+1),t===F.Backspace?i.end-i.begin<1&&(i.begin=he.call(n,i.begin)):t===F.Delete&&i.begin===i.end&&(i.end=ce.call(n,i.end,!0,!0)?i.end+1:ue.call(n,i.end)+1),!1!==(c=ie.call(n,i))){if(!0!==s&&!1!==o.keepStatic||null!==o.regex&&-1!==O.call(n,i.begin).match.def.indexOf("|")){var u=z.call(n,!0);if(u){var h=void 0!==u.caret?u.caret:u.pos?ue.call(n,u.pos.begin?u.pos.begin:u.pos):re.call(n,-1,!0);(t!==F.Delete||i.begin>h)&&i.begin}}!0!==s&&(l.p=t===F.Delete?i.begin+c:i.begin,l.p=ne.call(n,{begin:l.p,end:l.p},!1,!1===o.insertMode&&t===F.Backspace?"none":void 0).begin)}}function W(e){const t=this,i=this.opts,s=this.maskset;if("function"==typeof i.isComplete)return i.isComplete(e,i);if("*"!==i.repeat){var a=!1,n=ae.call(t,!0),l=he.call(t,n.l);if(void 0===n.def||n.def.newBlockMarker||n.def.optionality||n.def.optionalQuantifier){a=!0;for(var o=0;o<=l;o++){var r=_.call(t,o).match;if(!0!==r.static&&void 0===s.validPositions[o]&&!0!==r.optionality&&!0!==r.optionalQuantifier||!0===r.static&&e[o]!==L.call(t,o,r)){a=!1;break}}}return a}}function J(e){const t=this.opts.insertMode?0:1;return this.isRTL?e.begin-e.end>t:e.end-e.begin>t}function X(e,t,i,s,a,n,l){const o=this,r=this.dependencyLib,c=this.opts,d=o.maskset;i=!0===i;var u=e;function h(e){if(void 0!==e){if(void 0!==e.remove&&(Array.isArray(e.remove)||(e.remove=[e.remove]),e.remove.sort((function(e,t){return o.isRTL?e.pos-t.pos:t.pos-e.pos})).forEach((function(e){ie.call(o,{begin:e,end:e+1})})),e.remove=void 0),void 0!==e.insert&&(Array.isArray(e.insert)||(e.insert=[e.insert]),e.insert.sort((function(e,t){return o.isRTL?t.pos-e.pos:e.pos-t.pos})).forEach((function(e){""!==e.c&&X.call(o,e.pos,e.c,void 0===e.strict||e.strict,void 0!==e.fromIsValid?e.fromIsValid:s)})),e.insert=void 0),e.refreshFromBuffer&&e.buffer){var t=e.refreshFromBuffer;ee.call(o,!0===t?t:t.start,t.end,e.buffer),e.refreshFromBuffer=void 0}void 0!==e.rewritePosition&&(u=e.rewritePosition,e=!0)}return e}function f(t,i,a){var n=!1;return M.call(o,t).every((function(l,u){var f=l.match;if(le.call(o,!0),!1!==(n=(!f.jit||void 0!==d.validPositions[he.call(o,t)])&&(null!=f.fn?f.fn.test(i,d,t,a,c,J.call(o,e)):(i===f.def||i===c.skipOptionalPartCharacter)&&""!==f.def&&{c:L.call(o,t,f,!0)||f.def,pos:t}))){var p=void 0!==n.c?n.c:i,v=t;return p=p===c.skipOptionalPartCharacter&&!0===f.static?L.call(o,t,f,!0)||f.def:p,!0!==(n=h(n))&&void 0!==n.pos&&n.pos!==t&&(v=n.pos),!0!==n&&void 0===n.pos&&void 0===n.c||!1===ie.call(o,e,r.extend({},l,{input:U.call(o,p,f,v)}),s,v)&&(n=!1),!1}return!0})),n}void 0!==e.begin&&(u=o.isRTL?e.end:e.begin);var p=!0,v=r.extend(!0,{},d.validPositions);if(!1===c.keepStatic&&void 0!==d.excludes[u]&&!0!==a&&!0!==s)for(var m=u;m<(o.isRTL?e.begin:e.end);m++)void 0!==d.excludes[m]&&(d.excludes[m]=void 0,delete d.tests[m]);if("function"==typeof c.preValidation&&!0!==s&&!0!==n&&(p=h(p=c.preValidation.call(o,le.call(o),u,t,J.call(o,e),c,d,e,i||a))),!0===p){if(p=f(u,t,i),(!i||!0===s)&&!1===p&&!0!==n){var g=d.validPositions[u];if(!g||!0!==g.match.static||g.match.def!==t&&t!==c.skipOptionalPartCharacter){if(c.insertMode||void 0===d.validPositions[ue.call(o,u)]||e.end>u){var b=!1;if(d.jitOffset[u]&&void 0===d.validPositions[ue.call(o,u)]&&!1!==(p=X.call(o,u+d.jitOffset[u],t,!0,!0))&&(!0!==a&&(p.caret=u),b=!0),e.end>u&&(d.validPositions[u]=void 0),!b&&!ce.call(o,u,c.keepStatic&&0===u))for(var k=u+1,y=ue.call(o,u,!1,0!==u);k<=y;k++)if(!1!==(p=f(k,t,i))){p=te.call(o,u,void 0!==p.pos?p.pos:k)||p,u=k;break}}}else p={caret:ue.call(o,u)}}o.hasAlternator&&!0!==a&&!i&&(!1===p&&c.keepStatic&&(W.call(o,le.call(o))||0===u)?p=z.call(o,u,t,i,s,void 0,e):(J.call(o,e)&&d.tests[u]&&d.tests[u].length>1&&c.keepStatic||1==p&&!0!==c.numericInput&&d.tests[u]&&d.tests[u].length>1&&re.call(o,void 0,!0)>u)&&(p=z.call(o,!0))),!0===p&&(p={pos:u})}if("function"==typeof c.postValidation&&!0!==s&&!0!==n){var w=c.postValidation.call(o,le.call(o,!0),void 0!==e.begin?o.isRTL?e.end:e.begin:e,t,p,c,d,i,l);void 0!==w&&(p=!0===w?p:w)}p&&void 0===p.pos&&(p.pos=u),!1===p||!0===n?(de.call(o,!0),d.validPositions=r.extend(!0,[],v)):te.call(o,void 0,u,!0);var E=h(p);return void 0!==o.maxLength&&le.call(o).length>o.maxLength&&!s&&(de.call(o,!0),d.validPositions=r.extend(!0,[],v),E=!1),E}function Y(e,t,i){const s=this,a=this.maskset;for(var n=!1,l=M.call(s,e),o=0;o<l.length;o++){if(l[o].match&&(l[o].match.nativeDef===t.match[i.shiftPositions?"def":"nativeDef"]&&(!i.shiftPositions||!t.match.static)||l[o].match.nativeDef===t.match.nativeDef||i.regex&&!l[o].match.static&&l[o].match.fn.test(t.input,a,e,!1,i))){n=!0;break}if(l[o].match&&l[o].match.def===t.match.nativeDef){n=void 0;break}}return!1===n&&void 0!==a.jitOffset[e]&&(n=Y.call(s,e+a.jitOffset[e],t,i)),n}function ee(e,t,i){const s=this,a=this.maskset,n=this.opts,l=this.dependencyLib;var o,r,c=n.skipOptionalPartCharacter,d=s.isRTL?i.slice().reverse():i;if(n.skipOptionalPartCharacter="",!0===e)de.call(s),a.tests={},e=0,t=i.length,r=ne.call(s,{begin:0,end:0},!1).begin;else{for(o=e;o<t;o++)delete a.validPositions[o];r=e}var u=new l.Event("keypress");for(o=e;o<t;o++){u.key=d[o].toString(),s.ignorable=!1;var h=K.keypressEvent.call(s,u,!0,!1,!1,r);!1!==h&&void 0!==h&&(r=h.forwardPosition)}n.skipOptionalPartCharacter=c}function te(e,t,i){const s=this,a=this.maskset,n=this.dependencyLib;if(void 0===e)for(e=t-1;e>0&&!a.validPositions[e];e--);for(var l=e;l<t;l++)if(void 0===a.validPositions[l]&&!ce.call(s,l,!1)&&(0==l?O.call(s,l):a.validPositions[l-1])){var o=M.call(s,l).slice();""===o[o.length-1].match.def&&o.pop();var r,c=P.call(s,l,o);if(c&&(!0!==c.match.jit||"master"===c.match.newBlockMarker&&(r=a.validPositions[l+1])&&!0===r.match.optionalQuantifier)&&((c=n.extend({},c,{input:L.call(s,l,c.match,!0)||c.match.def})).generatedInput=!0,ie.call(s,l,c,!0),!0!==i)){var d=a.validPositions[t].input;return a.validPositions[t]=void 0,X.call(s,t,d,!0,!0)}}}function ie(e,t,i,s){const a=this,n=this.maskset,l=this.opts,o=this.dependencyLib;function r(e,t,i){var s=t[e];if(void 0!==s&&!0===s.match.static&&!0!==s.match.optionality&&(void 0===t[0]||void 0===t[0].alternation)){var a=i.begin<=e-1?t[e-1]&&!0===t[e-1].match.static&&t[e-1]:t[e-1],n=i.end>e+1?t[e+1]&&!0===t[e+1].match.static&&t[e+1]:t[e+1];return a&&n}return!1}var c=0,d=void 0!==e.begin?e.begin:e,u=void 0!==e.end?e.end:e,h=!0;if(e.begin>e.end&&(d=e.end,u=e.begin),s=void 0!==s?s:d,void 0===i&&(d!==u||l.insertMode&&void 0!==n.validPositions[s]||void 0===t||t.match.optionalQuantifier||t.match.optionality)){var f,p=o.extend(!0,{},n.validPositions),v=re.call(a,void 0,!0);for(n.p=d,f=v;f>=d;f--)delete n.validPositions[f],void 0===t&&delete n.tests[f+1];var m,g,b=s,k=b;for(t&&(n.validPositions[s]=o.extend(!0,{},t),k++,b++),f=t?u:u-1;f<=v;f++){if(void 0!==(m=p[f])&&!0!==m.generatedInput&&(f>=u||f>=d&&r(f,p,{begin:d,end:u}))){for(;""!==O.call(a,k).match.def;){if(!1!==(g=Y.call(a,k,m,l))||"+"===m.match.def){"+"===m.match.def&&le.call(a,!0);var y=X.call(a,k,m.input,"+"!==m.match.def,!0);if(h=!1!==y,b=(y.pos||k)+1,!h&&g)break}else h=!1;if(h){void 0===t&&m.match.static&&f===e.begin&&c++;break}if(!h&&le.call(a),k>n.maskLength)break;k++}""==O.call(a,k).match.def&&(h=!1),k=b}if(!h)break}if(!h)return n.validPositions=o.extend(!0,[],p),de.call(a,!0),!1}else t&&O.call(a,s).match.cd===t.match.cd&&(n.validPositions[s]=o.extend(!0,{},t));return de.call(a,!0),c}function se(e,t,i,s,a){const n=this,l=this.opts;var o;if(void 0===t)return"selectionStart"in e&&"selectionEnd"in e?(t=e.selectionStart,i=e.selectionEnd):window.getSelection?(o=window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==e&&o.commonAncestorContainer!==e||(t=o.startOffset,i=o.endOffset):document.selection&&document.selection.createRange&&(i=(t=0-(o=document.selection.createRange()).duplicate().moveStart("character",-e.inputmask._valueGet().length))+o.text.length),{begin:s?t:fe.call(n,t),end:s?i:fe.call(n,i)};if(Array.isArray(t)&&(i=n.isRTL?t[0]:t[1],t=n.isRTL?t[1]:t[0]),void 0!==t.begin&&(i=n.isRTL?t.begin:t.end,t=n.isRTL?t.end:t.begin),"number"==typeof t){t=s?t:fe.call(n,t),i="number"==typeof(i=s?i:fe.call(n,i))?i:t;var r=parseInt(((e.ownerDocument.defaultView||window).getComputedStyle?(e.ownerDocument.defaultView||window).getComputedStyle(e,null):e.currentStyle).fontSize)*i;if(e.scrollLeft=r>e.scrollWidth?r:0,e.inputmask.caretPos={begin:t,end:i},l.insertModeVisual&&!1===l.insertMode&&t===i&&(a||i++),e===(e.inputmask.shadowRoot||e.ownerDocument).activeElement)if("setSelectionRange"in e)e.setSelectionRange(t,i);else if(window.getSelection){if(o=document.createRange(),void 0===e.firstChild||null===e.firstChild){var c=document.createTextNode("");e.appendChild(c)}o.setStart(e.firstChild,t<e.inputmask._valueGet().length?t:e.inputmask._valueGet().length),o.setEnd(e.firstChild,i<e.inputmask._valueGet().length?i:e.inputmask._valueGet().length),o.collapse(!0);var d=window.getSelection();d.removeAllRanges(),d.addRange(o)}else e.createTextRange&&((o=e.createTextRange()).collapse(!0),o.moveEnd("character",i),o.moveStart("character",t),o.select())}}function ae(e){const t=this,{maskset:i,dependencyLib:s}=t;var a,n,l=x.call(t,!0,re.call(t),!0,!0),o=l.length,r=re.call(t),c={},d=i.validPositions[r],u=void 0!==d?d.locator.slice():void 0;for(a=r+1;a<l.length;a++)u=(n=_.call(t,a,u,a-1)).locator.slice(),c[a]=s.extend(!0,{},n);var h=d&&void 0!==d.alternation?d.locator[d.alternation]:void 0;for(a=o-1;a>r&&((n=c[a]).match.optionality||n.match.optionalQuantifier&&n.match.newBlockMarker||h&&(h!==c[a].locator[d.alternation]&&1!=n.match.static||!0===n.match.static&&n.locator[d.alternation]&&Q.call(t,n.locator[d.alternation].toString().split(","),h.toString().split(","))&&""!==M.call(t,a)[0].def))&&l[a]===L.call(t,a,n.match);a--)o--;return e?{l:o,def:c[o]?c[o].match:void 0}:o}function ne(e,t,i){const s=this,{maskset:a,opts:n}=s;if(t&&(s.isRTL?e.end=e.begin:e.begin=e.end),e.begin===e.end){switch(i=i||n.positionCaretOnClick){case"none":break;case"select":e={begin:0,end:le.call(s).length};break;case"ignore":e.end=e.begin=ue.call(s,re.call(s));break;case"radixFocus":if(s.clicked>1&&0==a.validPositions.length)break;if(function(e){if(""!==n.radixPoint&&0!==n.digits){var t=a.validPositions;if(void 0===t[e]||t[e].input===L.call(s,e)){if(e<ue.call(s,-1))return!0;var i=le.call(s).indexOf(n.radixPoint);if(-1!==i){for(let e=0,a=t.length;e<a;e++)if(t[e]&&i<e&&t[e].input!==L.call(s,e))return!1;return!0}}}return!1}(e.begin)){var l=le.call(s).join("").indexOf(n.radixPoint);e.end=e.begin=n.numericInput?ue.call(s,l):l;break}default:var o=e.begin,r=re.call(s,o,!0),c=ue.call(s,-1!==r||ce.call(s,0)?r:-1);if(o<=c)e.end=e.begin=ce.call(s,o,!1,!0)?o:ue.call(s,o);else{var d=a.validPositions[r],u=_.call(s,c,d?d.match.locator:void 0,d),h=L.call(s,c,u.match);if(""!==h&&le.call(s)[c]!==h&&!0!==u.match.optionalQuantifier&&!0!==u.match.newBlockMarker||!ce.call(s,c,n.keepStatic,!0)&&u.match.def===h){var f=ue.call(s,c);(o>=f||o===c)&&(c=f)}e.end=e.begin=c}}return e}}function le(e){const t=this,{maskset:i}=t;return void 0!==i.buffer&&!0!==e||(i.buffer=x.call(t,!0,re.call(t),!0),void 0===i._buffer&&(i._buffer=i.buffer.slice())),i.buffer}function oe(){const e=this.maskset;return void 0===e._buffer&&(e._buffer=x.call(this,!1,1),void 0===e.buffer&&(e.buffer=e._buffer.slice())),e._buffer}function re(e,t,i){const s=this.maskset;var a=-1,n=-1,l=i||s.validPositions;void 0===e&&(e=-1);for(var o=0,r=l.length;o<r;o++)l[o]&&(t||!0!==l[o].generatedInput)&&(o<=e&&(a=o),o>=e&&(n=o));return-1===a||a==e?n:-1==n||e-a<n-e?a:n}function ce(e,t,i){const s=this,a=this.maskset;var n=_.call(s,e).match;if(""===n.def&&(n=O.call(s,e).match),!0!==n.static)return n.fn;if(!0===i&&void 0!==a.validPositions[e]&&!0!==a.validPositions[e].generatedInput)return!0;if(!0!==t&&e>-1){if(i){var l=M.call(s,e);return l.length>1+(""===l[l.length-1].match.def?1:0)}var o=P.call(s,e,M.call(s,e)),r=L.call(s,e,o.match);return o.match.def!==r}return!1}function de(e){const t=this.maskset;t.buffer=void 0,!0!==e&&(t.validPositions=[],t.p=0)}function ue(e,t,i){const s=this;void 0===i&&(i=!0);for(var a=e+1;""!==O.call(s,a).match.def&&(!0===t&&(!0!==O.call(s,a).match.newBlockMarker||!ce.call(s,a,void 0,!0))||!0!==t&&!ce.call(s,a,void 0,i));)a++;return a}function he(e,t){const i=this;var s=e-1;if(e<=0)return 0;for(;s>0&&(!0===t&&(!0!==O.call(i,s).match.newBlockMarker||!ce.call(i,s,void 0,!0))||!0!==t&&!ce.call(i,s,void 0,!0));)s--;return s}function fe(e){const t=this.opts,i=this.el;return!this.isRTL||"number"!=typeof e||t.greedy&&""===t.placeholder||!i||(e=this._valueGet().length-e)<0&&(e=0),e}var pe=function(e,t,i){const s=e.inputmask.dependencyLib;var a=function(t){t.originalEvent&&(t=t.originalEvent||t,arguments[0]=t);var a,n=this,l=n.inputmask,o=l?l.opts:void 0;if(void 0===l&&"FORM"!==this.nodeName){var r=s.data(n,"_inputmask_opts");s(n).off(),r&&new Me(r).mask(n)}else{if(["submit","reset","setvalue"].includes(t.type)||"FORM"===this.nodeName||!(n.disabled||n.readOnly&&!("keydown"===t.type&&t.ctrlKey&&t.key===F.c||!1===o.tabThrough&&t.key===F.Tab))){switch(t.type){case"input":if(!0===l.skipInputEvent)return l.skipInputEvent=!1,t.preventDefault();break;case"click":case"focus":return l.validationEvent?(l.validationEvent=!1,e.blur(),q(e,(l.isRTL?oe.call(l).slice().reverse():oe.call(l)).join("")),setTimeout((function(){e.focus()}),o.validationEventTimeOut),!1):(a=arguments,void setTimeout((function(){e.inputmask&&i.apply(n,a)}),0))}var c=i.apply(n,arguments);return!1===c&&(t.preventDefault(),t.stopPropagation()),c}t.preventDefault()}};["submit","reset"].includes(t)?(a=a.bind(e),null!==e.form&&s(e.form).on(t,a)):s(e).on(t,a),e.inputmask.events[t]=e.inputmask.events[t]||[],e.inputmask.events[t].push(a)},ve=function(e,t){if(e.inputmask&&e.inputmask.events){const i=e.inputmask.dependencyLib;let s=e.inputmask.events;t&&(s=[],s[t]=e.inputmask.events[t]);for(let t in s){let a=s[t];for(;a.length>0;){let s=a.pop();["submit","reset"].includes(t)?null!==e.form&&i(e.form).off(t,s):i(e).off(t,s)}delete e.inputmask.events[t]}}};function me(){const e=this,t=this.opts,i=this.el,s=this.dependencyLib;ve(i);var a=function(t,i){"textarea"!==t.tagName.toLowerCase()&&i.ignorables.push(F.Enter);var a=t.getAttribute("type"),n="input"===t.tagName.toLowerCase()&&i.supportsInputType.includes(a)||t.isContentEditable||"textarea"===t.tagName.toLowerCase();if(!n)if("input"===t.tagName.toLowerCase()){var l=document.createElement("input");l.setAttribute("type",a),n="text"===l.type,l=null}else n="partial";return!1!==n?function(t){var a,n;function l(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==re.call(e)||!0!==i.nullable?(this.inputmask.shadowRoot||this.ownerDocument).activeElement===this&&i.clearMaskOnLostFocus?(e.isRTL?$.call(e,le.call(e).slice()).reverse():$.call(e,le.call(e).slice())).join(""):a.call(this):"":a.call(this)}function o(e){n.call(this,e),this.inputmask&&R(this,e)}if(!t.inputmask.__valueGet){if(!0!==i.noValuePatching){if(Object.getOwnPropertyDescriptor){var r=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):void 0;r&&r.get&&r.set?(a=r.get,n=r.set,Object.defineProperty(t,"value",{get:l,set:o,configurable:!0})):"input"!==t.tagName.toLowerCase()&&(a=function(){return this.textContent},n=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:l,set:o,configurable:!0}))}else document.__lookupGetter__&&t.__lookupGetter__("value")&&(a=t.__lookupGetter__("value"),n=t.__lookupSetter__("value"),t.__defineGetter__("value",l),t.__defineSetter__("value",o));t.inputmask.__valueGet=a,t.inputmask.__valueSet=n}t.inputmask._valueGet=function(t){return e.isRTL&&!0!==t?a.call(this.el).split("").reverse().join(""):a.call(this.el)},t.inputmask._valueSet=function(t,i){n.call(this.el,null==t?"":!0!==i&&e.isRTL?t.split("").reverse().join(""):t)},void 0===a&&(a=function(){return this.value},n=function(e){this.value=e},function(t){if(s.valHooks&&(void 0===s.valHooks[t]||!0!==s.valHooks[t].inputmaskpatch)){var a=s.valHooks[t]&&s.valHooks[t].get?s.valHooks[t].get:function(e){return e.value},n=s.valHooks[t]&&s.valHooks[t].set?s.valHooks[t].set:function(e,t){return e.value=t,e};s.valHooks[t]={get:function(t){if(t.inputmask){if(t.inputmask.opts.autoUnmask)return t.inputmask.unmaskedvalue();var s=a(t);return-1!==re.call(e,void 0,void 0,t.inputmask.maskset.validPositions)||!0!==i.nullable?s:""}return a(t)},set:function(e,t){var i=n(e,t);return e.inputmask&&R(e,t),i},inputmaskpatch:!0}}}(t.type),function(e){pe(e,"mouseenter",(function(){let e=this,t=e.inputmask._valueGet(!0);t!=(e.inputmask.isRTL?le.call(e.inputmask).slice().reverse():le.call(e.inputmask)).join("")&&R(e,t)}))}(t))}}(t):t.inputmask=void 0,n}(i,t);if(!1!==a){e.originalPlaceholder=i.placeholder,e.maxLength=void 0!==i?i.maxLength:void 0,-1===e.maxLength&&(e.maxLength=void 0),"inputMode"in i&&null===i.getAttribute("inputmode")&&(i.inputMode=t.inputmode,i.setAttribute("inputmode",t.inputmode)),!0===a&&(t.showMaskOnFocus=t.showMaskOnFocus&&-1===["cc-number","cc-exp"].indexOf(i.autocomplete),G&&(t.insertModeVisual=!1,i.setAttribute("autocorrect","off")),pe(i,"submit",K.submitEvent),pe(i,"reset",K.resetEvent),pe(i,"blur",K.blurEvent),pe(i,"focus",K.focusEvent),pe(i,"invalid",K.invalidEvent),pe(i,"click",K.clickEvent),pe(i,"mouseleave",K.mouseleaveEvent),pe(i,"mouseenter",K.mouseenterEvent),pe(i,"paste",K.pasteEvent),pe(i,"cut",K.cutEvent),pe(i,"complete",t.oncomplete),pe(i,"incomplete",t.onincomplete),pe(i,"cleared",t.oncleared),!0!==t.inputEventOnly&&pe(i,"keydown",K.keyEvent),(D||t.inputEventOnly)&&i.removeAttribute("maxLength"),pe(i,"input",K.inputFallBackEvent)),pe(i,"setvalue",K.setValueEvent),oe.call(e).join(""),e.undoValue=e._valueGet(!0);var n=(i.inputmask.shadowRoot||i.ownerDocument).activeElement;if(""!==i.inputmask._valueGet(!0)||!1===t.clearMaskOnLostFocus||n===i){R(i,i.inputmask._valueGet(!0));var l=le.call(e).slice();!1===W.call(e,l)&&t.clearIncomplete&&de.call(e),t.clearMaskOnLostFocus&&n!==i&&(-1===re.call(e)?l=[]:$.call(e,l)),(!1===t.clearMaskOnLostFocus||t.showMaskOnFocus&&n===i||""!==i.inputmask._valueGet(!0))&&H(i,l),n===i&&se.call(e,i,ue.call(e,re.call(e)))}}}function ge(){let e,t,i,s,a,n,l=arguments[0]||{},o=1,r=arguments.length,c=!1;for("boolean"==typeof l&&(c=l,l=arguments[o]||{},o++),"object"!=typeof l&&"function"!=typeof l&&(l={});o<r;o++)if(null!=(e=arguments[o]))for(t in e)i=l[t],s=e[t],l!==s&&(c&&s&&("[object Object]"===Object.prototype.toString.call(s)||(a=Array.isArray(s)))?(a?(a=!1,n=i&&Array.isArray(i)?i:[]):n=i&&"[object Object]"===Object.prototype.toString.call(i)?i:{},l[t]=ge(c,n,s)):void 0!==s&&(l[t]=s));return l}function be(e){return e instanceof Element}let ke;"function"==typeof A.CustomEvent?ke=A.CustomEvent:j&&(ke=function(e,t){t=t||{bubbles:!1,cancelable:!1,composed:!0,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i},ke.prototype=A.Event.prototype);const ye=A.document;function we(e){return e instanceof we?e:this instanceof we?void(null!=e&&e!==A&&(this[0]=e.nodeName?e:void 0!==e[0]&&e[0].nodeName?e[0]:ye.querySelector(e),void 0!==this[0]&&null!==this[0]&&(this[0].eventRegistry=this[0].eventRegistry||{}))):new we(e)}we.prototype={on:function(e,t){if(be(this[0])){var i=this[0].eventRegistry,s=this[0];e.split(" ").forEach((e=>{const[a,n="global"]=e.split(".");!function(e,a){s.addEventListener?s.addEventListener(e,t,!1):s.attachEvent&&s.attachEvent(`on${e}`,t),i[e]=i[e]||{},i[e][a]=i[e][a]||[],i[e][a].push(t)}(a,n)}))}return this},off:function(e,t){var i,s;return be(this[0])&&e&&(i=this[0].eventRegistry,s=this[0],e.split(" ").forEach((e=>{const[a,n]=e.split(".");(function(e,s){var a,n,l=[];if(e.length>0)if(void 0===t)for(a=0,n=i[e][s].length;a<n;a++)l.push({ev:e,namespace:s&&s.length>0?s:"global",handler:i[e][s][a]});else l.push({ev:e,namespace:s&&s.length>0?s:"global",handler:t});else if(s.length>0)for(var o in i)for(var r in i[o])if(r===s)if(void 0===t)for(a=0,n=i[o][r].length;a<n;a++)l.push({ev:o,namespace:r,handler:i[o][r][a]});else l.push({ev:o,namespace:r,handler:t});return l})(a,n).forEach((({ev:e,handler:t,namespace:a})=>{!function(e,t,a){if(e in i==1)if(s.removeEventListener?s.removeEventListener(e,a,!1):s.detachEvent&&s.detachEvent(`on${e}`,a),"global"===t)for(var n in i[e])i[e][n].splice(i[e][n].indexOf(a),1);else i[e][t].splice(i[e][t].indexOf(a),1)}(e,a,t)}))}))),this},trigger:function(e){if(be(this[0]))for(var t=this[0].eventRegistry,i=this[0],s="string"==typeof e?e.split(" "):[e.type],a=0;a<s.length;a++){var n=s[a].split("."),l=n[0],o=n[1]||"global";if(void 0!==document&&"global"===o){var r,c={bubbles:!0,cancelable:!0,composed:!0,detail:arguments[1]};if(document.createEvent){try{"input"===l?(c.inputType="insertText",r=new InputEvent(l,c)):r=new CustomEvent(l,c)}catch(e){(r=document.createEvent("CustomEvent")).initCustomEvent(l,c.bubbles,c.cancelable,c.detail)}e.type&&ge(r,e),i.dispatchEvent(r)}else(r=document.createEventObject()).eventType=l,r.detail=arguments[1],e.type&&ge(r,e),i.fireEvent("on"+r.eventType,r)}else if(void 0!==t[l]){arguments[0]=arguments[0].type?arguments[0]:Ee.Event(arguments[0]),arguments[0].detail=arguments.slice(1);const e=t[l];("global"===o?Object.values(e).flat():e[o]).forEach((e=>e.apply(i,arguments)))}}return this}},we.extend=ge,we.data=function(e,t,i){if(void 0===i)return e.__data?e.__data[t]:null;e.__data=e.__data||{},e.__data[t]=i},we.Event=ke;var Ee=we;function Fe(e,t,i,s){this.matches=[],this.openGroup=e||!1,this.alternatorGroup=!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=i||!1,this.isAlternator=s||!1,this.quantifier={min:1,max:1}}const Ce=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim");function Se(e){return e.replace(Ce,"\\$1")}function Le(e,t){var i;function s(e,i,s){var a,n,l=!1;return null!==e&&""!==e||((l=null!==s.regex)?e=(e=s.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(l=!0,e=".*")),1===e.length&&!1===s.greedy&&0!==s.repeat&&(s.placeholder=""),e=function(e,{repeat:t,groupmarker:i,quantifiermarker:s,keepStatic:a}){if(t>0||"*"===t||"+"===t){var n="*"===t?0:"+"===t?1:t;e=i[0]+e+i[1]+s[0]+n+","+t+s[1]}if(!0===a){let t="(.)\\[([^\\]]*)\\]",i=e.match(new RegExp(t,"g"));i&&i.forEach(((t,i)=>{let[s,a]=t.split("[");a=a.replace("]",""),e=e.replace(new RegExp(`${Se(s)}\\[${Se(a)}\\]`),s.charAt(0)===a.charAt(0)?`(${s}|${s}${a})`:`${s}[${a}]`)}))}return e}(e,s),n=l?"regex_"+s.regex:s.numericInput?e.split("").reverse().join(""):e,null!==s.keepStatic&&(n="ks_"+s.keepStatic+n),void 0===Me.prototype.masksCache[n]||!0===t?(a={mask:e,maskToken:Me.prototype.analyseMask(e,l,s),validPositions:[],_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:i,maskLength:void 0,jitOffset:{}},!0!==t&&(Me.prototype.masksCache[n]=a,a=Ee.extend(!0,{},Me.prototype.masksCache[n]))):a=Ee.extend(!0,{},Me.prototype.masksCache[n]),a}if("function"==typeof e.mask&&(e.mask=e.mask(e)),Array.isArray(e.mask)){if(e.mask.length>1){null===e.keepStatic&&(e.keepStatic=!0);var a=e.groupmarker[0];return(e.isRTL?e.mask.reverse():e.mask).forEach((function(t){a.length>1&&(a+=e.alternatormarker),void 0!==t.mask&&"function"!=typeof t.mask?a+=t.mask:a+=t})),s(a+=e.groupmarker[1],e.mask,e)}e.mask=e.mask.pop()}return i=e.mask&&void 0!==e.mask.mask&&"function"!=typeof e.mask.mask?s(e.mask.mask,e.mask,e):s(e.mask,e.mask,e),null===e.keepStatic&&(e.keepStatic=!1),i}var xe={_maxTestPos:500,placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:()=>{},onincomplete:()=>{},oncleared:()=>{},repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,insertModeVisual:!0,clearIncomplete:!1,alias:null,onKeyDown:()=>{},onBeforeMask:null,onBeforePaste:function(e,t){return"function"==typeof t.onBeforeMask?t.onBeforeMask.call(this,e,t):e},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:()=>{},skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],ignorables:[F.Backspace,F.Tab,F.Pause,F.Escape,F.PageUp,F.PageDown,F.End,F.Home,F.ArrowLeft,F.ArrowUp,F.ArrowRight,F.ArrowDown,F.Insert,F.Delete,F.ContextMenu,F.F1,F.F2,F.F3,F.F4,F.F5,F.F6,F.F7,F.F8,F.F9,F.F10,F.F11,F.F12,F.Process,F.Unidentified,F.Shift,F.Control,F.Alt,F.Tab,F.AltGraph,F.CapsLock],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"text",importDataAttributes:!0,shiftPositions:!0,usePrototypeDefinitions:!0,validationEventTimeOut:3e3,substitutes:{}};const _e=A.document,Pe="_inputmask_opts";function Oe(e,t,i){if(j){if(!(this instanceof Oe))return new Oe(e,t,i);this.dependencyLib=Ee,this.el=void 0,this.events={},this.maskset=void 0,!0!==i&&("[object Object]"===Object.prototype.toString.call(e)?t=e:(t=t||{},e&&(t.alias=e)),this.opts=Ee.extend(!0,{},this.defaults,t),this.noMasksCache=t&&void 0!==t.definitions,this.userOptions=t||{},Te(this.opts.alias,t,this.opts)),this.refreshValue=!1,this.undoValue=void 0,this.$el=void 0,this.skipInputEvent=!1,this.validationEvent=!1,this.ignorable=!1,this.maxLength,this.mouseEnter=!1,this.clicked=0,this.originalPlaceholder=void 0,this.isComposing=!1,this.hasAlternator=!1}}function Te(e,t,i){var s=Oe.prototype.aliases[e];return s?(s.alias&&Te(s.alias,void 0,i),Ee.extend(!0,i,s),Ee.extend(!0,i,t),!0):(null===i.mask&&(i.mask=e),!1)}Oe.prototype={dataAttribute:"data-inputmask",defaults:xe,definitions:{9:{validator:"[0-9０-９]",definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",definitionSymbol:"*"},"*":{validator:"[0-9０-９A-Za-zА-яЁёÀ-ÿµ]"}},aliases:{},masksCache:{},get isRTL(){return this.opts.isRTL||this.opts.numericInput},mask:function(e){var t=this;return"string"==typeof e&&(e=_e.getElementById(e)||_e.querySelectorAll(e)),(e=e.nodeName?[e]:Array.isArray(e)?e:[].slice.call(e)).forEach((function(e,i){var s=Ee.extend(!0,{},t.opts);if(function(e,t,i,s){function a(t,a){const n=""===s?t:s+"-"+t;null!==(a=void 0!==a?a:e.getAttribute(n))&&("string"==typeof a&&(0===t.indexOf("on")?a=A[a]:"false"===a?a=!1:"true"===a&&(a=!0)),i[t]=a)}if(!0===t.importDataAttributes){var n,l,o,r,c=e.getAttribute(s);if(c&&""!==c&&(c=c.replace(/'/g,'"'),l=JSON.parse("{"+c+"}")),l)for(r in o=void 0,l)if("alias"===r.toLowerCase()){o=l[r];break}for(n in a("alias",o),i.alias&&Te(i.alias,i,t),t){if(l)for(r in o=void 0,l)if(r.toLowerCase()===n.toLowerCase()){o=l[r];break}a(n,o)}}return Ee.extend(!0,t,i),("rtl"===e.dir||t.rightAlign)&&(e.style.textAlign="right"),("rtl"===e.dir||t.numericInput)&&(e.dir="ltr",e.removeAttribute("dir"),t.isRTL=!0),Object.keys(i).length}(e,s,Ee.extend(!0,{},t.userOptions),t.dataAttribute)){var a=Le(s,t.noMasksCache);void 0!==a&&(void 0!==e.inputmask&&(e.inputmask.opts.autoUnmask=!0,e.inputmask.remove()),e.inputmask=new Oe(void 0,void 0,!0),e.inputmask.opts=s,e.inputmask.noMasksCache=t.noMasksCache,e.inputmask.userOptions=Ee.extend(!0,{},t.userOptions),e.inputmask.el=e,e.inputmask.$el=Ee(e),e.inputmask.maskset=a,Ee.data(e,Pe,t.userOptions),me.call(e.inputmask))}})),e&&e[0]&&e[0].inputmask||this},option:function(e,t){return"string"==typeof e?this.opts[e]:"object"==typeof e?(Ee.extend(this.userOptions,e),this.el&&!0!==t&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){if(this.maskset=this.maskset||Le(this.opts,this.noMasksCache),void 0===this.el||void 0!==e){var t=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,e,this.opts)||e).split("");B.call(this,void 0,!1,!1,t),"function"==typeof this.opts.onBeforeWrite&&this.opts.onBeforeWrite.call(this,void 0,le.call(this),0,this.opts)}return N.call(this,this.el)},remove:function(){if(this.el){Ee.data(this.el,Pe,null);var e=this.opts.autoUnmask?N(this.el):this._valueGet(this.opts.autoUnmask);e!==oe.call(this).join("")?this._valueSet(e,this.opts.autoUnmask):this._valueSet(""),ve(this.el),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el),"value")&&this.__valueGet&&Object.defineProperty(this.el,"value",{get:this.__valueGet,set:this.__valueSet,configurable:!0}):_e.__lookupGetter__&&this.el.__lookupGetter__("value")&&this.__valueGet&&(this.el.__defineGetter__("value",this.__valueGet),this.el.__defineSetter__("value",this.__valueSet)),this.el.inputmask=void 0}return this.el},getemptymask:function(){return this.maskset=this.maskset||Le(this.opts,this.noMasksCache),(this.isRTL?oe.call(this).reverse():oe.call(this)).join("")},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||Le(this.opts,this.noMasksCache),W.call(this,le.call(this))},getmetadata:function(){if(this.maskset=this.maskset||Le(this.opts,this.noMasksCache),Array.isArray(this.maskset.metadata)){var e=x.call(this,!0,0,!1).join("");return this.maskset.metadata.forEach((function(t){return t.mask!==e||(e=t,!1)})),e}return this.maskset.metadata},isValid:function(e){if(this.maskset=this.maskset||Le(this.opts,this.noMasksCache),e){var t=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,e,this.opts)||e).split("");B.call(this,void 0,!0,!1,t)}else e=this.isRTL?le.call(this).slice().reverse().join(""):le.call(this).join("");for(var i=le.call(this),s=ae.call(this),a=i.length-1;a>s&&!ce.call(this,a);a--);return i.splice(s,a+1-s),W.call(this,i)&&e===(this.isRTL?le.call(this).slice().reverse().join(""):le.call(this).join(""))},format:function(e,t){this.maskset=this.maskset||Le(this.opts,this.noMasksCache);let i=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,e,this.opts)||e).split("");B.call(this,void 0,!0,!1,i);let s=this.isRTL?le.call(this).slice().reverse().join(""):le.call(this).join("");return t?{value:s,metadata:this.getmetadata()}:s},setValue:function(e){this.el&&Ee(this.el).trigger("setvalue",[e])},analyseMask:function(e,t,i){const s=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,a=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g;var n,l,o,r,c,d,u=!1,h=new Fe,f=[],p=[],v=!1;function m(e,s,a){a=void 0!==a?a:e.matches.length;var n=e.matches[a-1];if(t){if(0===s.indexOf("[")||u&&/\\d|\\s|\\w|\\p/i.test(s)||"."===s){let t=i.casing?"i":"";/^\\p\{.*}$/i.test(s)&&(t+="u"),e.matches.splice(a++,0,{fn:new RegExp(s,t),static:!1,optionality:!1,newBlockMarker:void 0===n?"master":n.def!==s,casing:null,def:s,placeholder:void 0,nativeDef:s})}else u&&(s=s[s.length-1]),s.split("").forEach((function(t,s){n=e.matches[a-1],e.matches.splice(a++,0,{fn:/[a-z]/i.test(i.staticDefinitionSymbol||t)?new RegExp("["+(i.staticDefinitionSymbol||t)+"]",i.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===n?"master":n.def!==t&&!0!==n.static,casing:null,def:i.staticDefinitionSymbol||t,placeholder:void 0!==i.staticDefinitionSymbol?t:void 0,nativeDef:(u?"'":"")+t})}));u=!1}else{var l=i.definitions&&i.definitions[s]||i.usePrototypeDefinitions&&Me.prototype.definitions[s];l&&!u?e.matches.splice(a++,0,{fn:l.validator?"string"==typeof l.validator?new RegExp(l.validator,i.casing?"i":""):new function(){this.test=l.validator}:new RegExp("."),static:l.static||!1,optionality:l.optional||!1,defOptionality:l.optional||!1,newBlockMarker:void 0===n||l.optional?"master":n.def!==(l.definitionSymbol||s),casing:l.casing,def:l.definitionSymbol||s,placeholder:l.placeholder,nativeDef:s,generated:l.generated}):(e.matches.splice(a++,0,{fn:/[a-z]/i.test(i.staticDefinitionSymbol||s)?new RegExp("["+(i.staticDefinitionSymbol||s)+"]",i.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===n?"master":n.def!==s&&!0!==n.static,casing:null,def:i.staticDefinitionSymbol||s,placeholder:void 0!==i.staticDefinitionSymbol?s:void 0,nativeDef:(u?"'":"")+s}),u=!1)}}function g(){if(f.length>0){if(m(r=f[f.length-1],l),r.isAlternator){c=f.pop();for(var e=0;e<c.matches.length;e++)c.matches[e].isGroup&&(c.matches[e].isGroup=!1);f.length>0?(r=f[f.length-1]).matches.push(c):h.matches.push(c)}}else m(h,l)}function b(e){var t=new Fe(!0);return t.openGroup=!1,t.matches=e,t}function k(){if((o=f.pop()).openGroup=!1,void 0!==o)if(f.length>0){if((r=f[f.length-1]).matches.push(o),r.isAlternator){let t=(c=f.pop()).matches[0].matches?c.matches[0].matches.length:1;for(var e=0;e<c.matches.length;e++)c.matches[e].isGroup=!1,c.matches[e].alternatorGroup=!1,null===i.keepStatic&&t<(c.matches[e].matches?c.matches[e].matches.length:1)&&(i.keepStatic=!0),t=c.matches[e].matches?c.matches[e].matches.length:1;f.length>0?(r=f[f.length-1]).matches.push(c):h.matches.push(c)}}else h.matches.push(o);else g()}function y(e){var t=e.pop();return t.isQuantifier&&(t=b([e.pop(),t])),t}for(t&&(i.optionalmarker[0]=void 0,i.optionalmarker[1]=void 0);n=t?a.exec(e):s.exec(e);){if(l=n[0],t){switch(l.charAt(0)){case"?":l="{0,1}";break;case"+":case"*":l="{"+l+"}";break;case"|":if(0===f.length){var w=b(h.matches);w.openGroup=!0,f.push(w),h.matches=[],v=!0}}switch(l){case"\\d":l="[0-9]";break;case"\\p":l+=a.exec(e)[0],l+=a.exec(e)[0]}}if(u)g();else switch(l.charAt(0)){case"$":case"^":t||g();break;case i.escapeChar:u=!0,t&&g();break;case i.optionalmarker[1]:case i.groupmarker[1]:k();break;case i.optionalmarker[0]:f.push(new Fe(!1,!0));break;case i.groupmarker[0]:f.push(new Fe(!0));break;case i.quantifiermarker[0]:var E=new Fe(!1,!1,!0),F=(l=l.replace(/[{}?]/g,"")).split("|"),C=F[0].split(","),S=isNaN(C[0])?C[0]:parseInt(C[0]),L=1===C.length?S:isNaN(C[1])?C[1]:parseInt(C[1]),x=isNaN(F[1])?F[1]:parseInt(F[1]);"*"!==S&&"+"!==S||(S="*"===L?0:1),E.quantifier={min:S,max:L,jit:x};var _=f.length>0?f[f.length-1].matches:h.matches;(n=_.pop()).isGroup||(n=b([n])),_.push(n),_.push(E);break;case i.alternatormarker:if(f.length>0){var P=(r=f[f.length-1]).matches[r.matches.length-1];d=r.openGroup&&(void 0===P.matches||!1===P.isGroup&&!1===P.isAlternator)?f.pop():y(r.matches)}else d=y(h.matches);if(d.isAlternator)f.push(d);else if(d.alternatorGroup?(c=f.pop(),d.alternatorGroup=!1):c=new Fe(!1,!1,!1,!0),c.matches.push(d),f.push(c),d.openGroup){d.openGroup=!1;var O=new Fe(!0);O.alternatorGroup=!0,f.push(O)}break;default:g()}}for(v&&k();f.length>0;)o=f.pop(),h.matches.push(o);return h.matches.length>0&&(function e(s){s&&s.matches&&s.matches.forEach((function(a,n){var l=s.matches[n+1];(void 0===l||void 0===l.matches||!1===l.isQuantifier)&&a&&a.isGroup&&(a.isGroup=!1,t||(m(a,i.groupmarker[0],0),!0!==a.openGroup&&m(a,i.groupmarker[1]))),e(a)}))}(h),p.push(h)),(i.numericInput||i.isRTL)&&function e(t){for(var s in t.matches=t.matches.reverse(),t.matches)if(Object.prototype.hasOwnProperty.call(t.matches,s)){var a=parseInt(s);if(t.matches[s].isQuantifier&&t.matches[a+1]&&t.matches[a+1].isGroup){var n=t.matches[s];t.matches.splice(s,1),t.matches.splice(a+1,0,n)}void 0!==t.matches[s].matches?t.matches[s]=e(t.matches[s]):t.matches[s]=((l=t.matches[s])===i.optionalmarker[0]?l=i.optionalmarker[1]:l===i.optionalmarker[1]?l=i.optionalmarker[0]:l===i.groupmarker[0]?l=i.groupmarker[1]:l===i.groupmarker[1]&&(l=i.groupmarker[0]),l)}var l;return t}(p[0]),p}},Oe.extendDefaults=function(e){Ee.extend(!0,Oe.prototype.defaults,e)},Oe.extendDefinitions=function(e){Ee.extend(!0,Oe.prototype.definitions,e)},Oe.extendAliases=function(e){Ee.extend(!0,Oe.prototype.aliases,e)},Oe.format=function(e,t,i){return Oe(t).format(e,i)},Oe.unmask=function(e,t){return Oe(t).unmaskedvalue(e)},Oe.isValid=function(e,t){return Oe(t).isValid(e)},Oe.remove=function(e){"string"==typeof e&&(e=_e.getElementById(e)||_e.querySelectorAll(e)),(e=e.nodeName?[e]:e).forEach((function(e){e.inputmask&&e.inputmask.remove()}))},Oe.setValue=function(e,t){"string"==typeof e&&(e=_e.getElementById(e)||_e.querySelectorAll(e)),(e=e.nodeName?[e]:e).forEach((function(e){e.inputmask?e.inputmask.setValue(t):Ee(e).trigger("setvalue",[t])}))},Oe.dependencyLib=Ee,A.Inputmask=Oe;var Me=Oe,je=function(e){const t=document.querySelector(e),i=t.querySelector(".btn-send");t.addEventListener("submit",(e=>{e.preventDefault();const s=document.querySelectorAll(".cart__product");i.innerHTML='<span class="loader"></span>';const a=[];s.forEach((e=>{const t=e.dataset.productId,i=e.querySelector(".cart__title").textContent,s=e.querySelector(".cart__count").textContent,n=e.querySelector(".cart__price span").textContent;a.push({id:t,name:i,count:s,price:n})}));const n=document.querySelector(".basket__total-price span").textContent,l=new FormData(t);l.append("product",JSON.stringify(a)),l.append("totalPrice",n);for(let[e,t]of l)console.log(`${e} = ${t}`);fetch(t.getAttribute("action"),{method:"POST",body:l}).then((e=>{if(!e.ok)throw new Error("Network response is not ok");return e.text()})).then((e=>{i.innerHTML="Оформить заказ",console.log(e),function(e,t){const i=document.querySelector(e),s=document.querySelector(t);i.classList.toggle("active"),s.addEventListener("click",(e=>{e.target&&e.preventDefault(),i.classList.remove("active")})),setTimeout((()=>{i.classList.remove("active")}),5e3)}(".modal-thanks",".modal-thanks__button")})).catch((e=>{i.innerHTML="Оформить заказ",console.log("There was an error: ",e)})).finally((()=>{t.reset()}))}))};document.addEventListener("DOMContentLoaded",(()=>{n(),function(e,t,i){const s=document.querySelector(".mobile-nav-btn"),a=document.querySelector(".mobile-nav"),n=document.querySelector(".nav-icon");s.addEventListener("click",(e=>{e.target&&e.preventDefault(),a.classList.toggle("active"),n.classList.toggle("nav-icon--active"),document.body.classList.toggle("no-scroll")}))}(),document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(()=>{const e=document.querySelector(".mobile-nav");e&&(e.classList.remove("active"),document.querySelector("body").classList.remove("no-scroll"),document.querySelector(".nav-icon").classList.remove("nav-icon--active"))}))})),function(e){const t=document.querySelector("input[type='tel']");new Me("+38 (999) 999-99-99").mask(t);const i=new w(e);i.addField('[name="name"]',[{rule:"required",errorMessage:"Поле ИМЯ обязательное для заполнения"},{rule:"minLength",value:3},{rule:"maxLength",value:15}]),i.addField('[name="surname"]',[{rule:"required",errorMessage:"Поле ФАМИЛИЯ обязательное для заполнения"},{rule:"minLength",value:3},{rule:"maxLength",value:15}]),i.addField('[name="tel"]',[{validator:e=>{const i=t.inputmask.unmaskedvalue();return Boolean(Number(i)&&i.length>0)},errorMessage:"Введите телефон"},{validator:e=>{const i=t.inputmask.unmaskedvalue();return Boolean(Number(i)&&10===i.length)},errorMessage:"Введите телефон полностью"}]),i.onSuccess((()=>{je(".basket-form")}))}(".basket-form")}))}();